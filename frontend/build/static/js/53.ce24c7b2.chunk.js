"use strict";(self.webpackChunkrunit=self.webpackChunkrunit||[]).push([[53],{1053:function(e,t,n){n.r(t),n.d(t,{SingleEventContext:function(){return Re},default:function(){return Ae}});var s=n(9439),a=n(2791),r=n(7022),i=n(5070),c=n(7689),l=n(1087),d=n(4165),o=n(5861),u=n(5313),m=n(5551),h=n(6030),x=n(4035),v=n(4680),j=n(2557),f=n(5892),p=n(271),g=n(6833),N=n(6770),Z=n.n(N),b=n(5290),y=n(184);var C=function(e){var t=(0,h.I0)(),n=(0,c.UO)(),r=(0,b.P)(),l=r.modules,N=r.formats,C=(0,a.useState)(e.title),w=(0,s.Z)(C,2),S=w[0],k=w[1],I=(0,a.useState)(e.maxMembers),D=(0,s.Z)(I,2),P=D[0],_=D[1],B=(0,a.useState)(e.details),M=(0,s.Z)(B,2),E=M[0],L=M[1],T=function(){var s=(0,o.Z)((0,d.Z)().mark((function s(a){var r;return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.preventDefault(),r={title:S,maxMember:P,details:E},t((0,m.eJ)(e.eventId,r)).then((function(e){e.status===p.OK&&(t((0,m.Bk)(n.id)),(0,v.uY)((0,j.Mh)(E)))})),e.handleUpate();case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,y.jsxs)(u.Z,{onSubmit:function(e){T(e)},children:[(0,y.jsxs)(i.Z,{className:e.cardStyle,children:[(0,y.jsx)(i.Z.Header,{className:"pb-0",children:(0,y.jsx)("h5",{className:"fw-bold m-0",children:"Update event"})}),(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsxs)(u.Z.Group,{className:"d-flex gap-2 mb-3",children:[(0,y.jsxs)("div",{className:"w-100",children:[(0,y.jsx)(g.l,{children:"Title"}),(0,y.jsx)(u.Z.Control,{type:"title",placeholder:"Event Title",value:S,onChange:function(e){return k(e.target.value)},required:!0})]}),(0,y.jsxs)("div",{className:"w-100",children:[(0,y.jsx)(g.l,{children:"Size"}),(0,y.jsx)(u.Z.Control,{type:"number",placeholder:"Maximum Members",value:P||"",onChange:function(e){return _(parseInt(e.target.value))},min:"2",required:!0})]})]}),(0,y.jsxs)(u.Z.Group,{children:[(0,y.jsx)(g.l,{children:"Description"}),(0,y.jsx)(Z(),{name:"details",theme:"snow",modules:l,formats:N,value:E,onChange:function(e){return L(e)}})]}),(0,y.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,y.jsx)(x.Z,{type:"",btnStyle:"postBtn-placements",variant:"primary",onClick:e.handleUpate,placeholder:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(f.X1,{}),"Cancel"]})}),(0,y.jsx)(x.Z,{type:"submit",btnStyle:"postBtn-placements cta_button",variant:"primary",formValidation:""===S||""===P||""===E||"<p><br></p>"===E,isLoading:"",placeholder:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(f.k4,{}),"Publish"]})})]})]})]})," "]})},w=n(1398),S=n(9235),k=n(8175),I=n(6217),D=n(5806);var P=function(){var e=a.createRef(),t=(0,a.useContext)(Re).eventMbs,n=(0,I.vi)(t);return(0,y.jsx)(k.Z,{ref:e,customBtn:"",btnIcon:(0,y.jsxs)("div",{className:"d-flex img-group",children:[n.slice(0,4).map((function(e){return(0,y.jsx)("img",{src:e.gravatarImage,className:"members-img ",alt:"Img"},e.id)})),n.length>4&&(0,y.jsxs)("span",{className:"members-count",children:["+",n.length-4]})]}),title:"Members",children:(0,y.jsx)(u.Z,{children:(0,y.jsx)("div",{className:"mt-3",children:0===t.length?(0,y.jsx)("strong",{children:"Nobody here yet...."}):(0,y.jsx)(w.Z,{className:"members-list",variant:"flush",children:n.map((function(e){return(0,y.jsx)(w.Z.Item,{children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(S.Q,{image:e.gravatarImage}),(0,y.jsxs)("div",{className:"ms-4",children:[(0,y.jsxs)(l.rU,{to:{pathname:"/".concat(D.ih,"/").concat(D.L6),search:"user=".concat(e.username)},children:["@",e.username]}),(0,y.jsx)("small",{className:"d-block text-muted",children:e.email})]})]})},e.id)}))})})})})},_=n(3585),B=n(3360),M=n(1275),E=n(4855);var L=function(e){var t=(0,h.I0)(),n=(0,c.s0)(),r=(0,a.useRef)(),i=(0,a.useState)(!1),l=(0,s.Z)(i,2),x=l[0],v=l[1],j=function(){var s=(0,o.Z)((0,d.Z)().mark((function s(a){return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.preventDefault(),t((0,m.xC)(e.eventId,v)).then((function(e){e.status===p.OK&&(t({type:E.jN}),n("/".concat(D.vA)))}));case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,y.jsx)(k.Z,{ref:r,customBtn:"",btnIcon:(0,y.jsx)("div",{className:"d-flex align-items-center",children:"Delete"}),title:"Delete Event",children:(0,y.jsxs)(u.Z,{onSubmit:function(e){j(e)},children:[(0,y.jsxs)("div",{className:"mt-3",children:[(0,y.jsx)("strong",{children:"Are you sure you want to delete this event?"}),(0,y.jsxs)("ul",{className:"mt-2",children:[(0,y.jsx)("li",{children:"This cannot be undone"}),(0,y.jsx)("li",{children:"Will remove all affiliations related to this event"})]})]}),(0,y.jsx)("div",{className:"mt-3 d-flex justify-content-center",children:(0,y.jsx)(B.Z,{type:"submit",onClick:function(){return r.current.setModalShow()},variant:"danger",className:"w-100",children:x?(0,y.jsx)(M.g,{}):(0,y.jsx)(y.Fragment,{children:"Delete this event"})})})]})})},T=n(6462);var F=function(e){var t=(0,h.I0)(),n=(0,a.useRef)(),r=(0,a.useState)(0),i=(0,s.Z)(r,2),l=i[0],x=i[1],j=(0,a.useState)(!1),f=(0,s.Z)(j,2),g=f[0],N=f[1],Z=(0,c.UO)(),b=(0,T.is)(1).eventMbs,C=function(){var n=(0,o.Z)((0,d.Z)().mark((function n(s){var a;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.preventDefault(),a={status:l},t((0,m.Nf)(e.eventId,a,N)).then((function(e){e.status===p.OK&&(t((0,m.Bk)(Z.id)),(0,v.uY)(b.map((function(e){return e.username}))))}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,y.jsx)(k.Z,{ref:n,customBtn:"",btnIcon:(0,y.jsx)("div",{className:"d-flex align-items-center",children:"Status"}),title:"Update Status",children:(0,y.jsxs)(u.Z,{onSubmit:function(e){C(e)},children:[(0,y.jsxs)(u.Z.Group,{className:"mt-3",children:[(0,y.jsxs)(u.Z.Label,{children:["Update your event status as ",(0,y.jsx)("strong",{children:"FINISHED"})," or"," ",(0,y.jsx)("strong",{children:"CANCELLED"})]}),"\xa0",(0,y.jsx)("small",{children:(0,y.jsxs)("ul",{children:[(0,y.jsx)("li",{children:"Status can only be updated once"}),(0,y.jsx)("li",{children:"Event will remain as history but uninteractive"})]})}),(0,y.jsx)(u.Z.Check,{type:"radio",className:"fw-bold",id:"default-radio",label:"Finished",name:"status",value:2,onChange:function(e){return x(Number(e.target.value))},inline:!0}),(0,y.jsx)(u.Z.Check,{type:"radio",className:"fw-bold",id:"default-radio2",label:"Cancelled",name:"status",value:3,onChange:function(e){return x(Number(e.target.value))},inline:!0})]}),(0,y.jsxs)("div",{className:"mt-3",children:[(0,y.jsx)(B.Z,{type:"submit",children:g?(0,y.jsx)(M.g,{}):(0,y.jsx)(y.Fragment,{children:"Update"})}),(0,y.jsx)(B.Z,{className:"me-3 btn-cancel",onClick:function(){return n.current.setModalShow()},children:"Cancel"})]})]})})},U=function(e,t,n,s,a){return{options_owner:[{item:(0,y.jsx)("div",{children:(0,y.jsx)(x.Z,{type:"",btnStyle:"postBtn-placements",variant:"primary",onClick:a,placeholder:(0,y.jsx)("div",{className:"d-flex align-items-center",children:"Edit"})})})},{item:(0,y.jsx)(F,{eventId:e,eventTitle:t})},{item:(0,y.jsx)(L,{eventId:e,eventTitle:t})}],options_user:[{item:(0,y.jsx)(_.Z,{eventId:e,eventTitle:t})},{item:(0,y.jsx)(P,{eventId:e,userId:n,currentUser:s})}]}},R=n(3651),A=n(2240),H=n(5823);var O=function(e){var t=e.children;return(0,y.jsxs)(H.Z,{children:[(0,y.jsx)(H.Z.Toggle,{variant:"light",size:"sm",id:"dropdown-basic",children:(0,y.jsx)(f.Pj,{})}),(0,y.jsx)(H.Z.Menu,{children:t})]})},z=n(6479),q=n(3532),K=n(6104);var Y=function(){var e=(0,a.useContext)(Re).eventData,t=(0,a.useContext)(R.q),n=(0,q.j)(!1),s=n.editorMode,r=n.handleClick;return(0,y.jsx)(y.Fragment,{children:!1===s?(0,y.jsxs)(i.Z,{className:"event-card",children:[(0,y.jsx)(i.Z.Header,{children:(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(z.Z,{id:"profile-popover",data:e.userName,children:(0,y.jsx)(S.Q,{image:e.gravatarImage,imgClass:"userProf-img me-3 cursor-event"})}),(0,y.jsx)(I.OE,{eventData:e}),(0,y.jsx)(K.$,{children:t===e.user?(0,y.jsx)(O,{children:U(e.id,e.title,e.user,t,r).options_owner.slice(e.eventStatus===A.ew||e.eventStatus===A._H?2:"").map((function(e,t){return(0,y.jsx)("div",{className:"p-1",children:e.item},t)}))}):(0,y.jsx)(I.zq,{eventData:e})})]})}),(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsxs)("div",{className:"details_textarea",children:[(0,y.jsx)("h4",{children:e.title}),(0,y.jsx)("span",{className:"content_sm1",dangerouslySetInnerHTML:{__html:e.details?(0,j.pf)(e.details):e.details}})]}),(0,y.jsxs)("div",{className:"details_textarea",children:[(0,y.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,y.jsx)("h6",{children:"Details"}),(0,y.jsxs)("small",{className:"text-muted",children:["Host:"," ",(0,y.jsxs)("a",{href:"/".concat(D.ih,"/").concat(D.L6,"?user=").concat(e.userName),children:["@",e.userName]})]}),(0,y.jsxs)("small",{className:"text-muted",children:["Posted: ",e.humanTimeDiffCreatedAt," ago"]}),(0,y.jsxs)("small",{className:"text-muted",children:["Date: ",e.eventDateString," "]}),(0,y.jsxs)("small",{className:"text-muted",children:["Audience Size: ",e.maxMember," "]})]}),(0,y.jsx)("div",{className:"mt-4",children:(0,y.jsx)(P,{})})]})]})]}):(0,y.jsx)(C,{eventId:e.id,title:e.title,details:e.details,maxMembers:e.maxMember,cardStyle:t===e.user?"editor-card":"",handleUpate:r})})},V=n(1413),G=n(5987),Q=n(1694),$=n.n(Q),X=n(162),J=["bsPrefix","size","vertical","className","role","as"],W=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.size,a=e.vertical,r=void 0!==a&&a,i=e.className,c=e.role,l=void 0===c?"group":c,d=e.as,o=void 0===d?"div":d,u=(0,G.Z)(e,J),m=(0,X.vE)(n,"btn-group"),h=m;return r&&(h="".concat(m,"-vertical")),(0,y.jsx)(o,(0,V.Z)((0,V.Z)({},u),{},{ref:t,role:l,className:$()(i,h,s&&"".concat(m,"-").concat(s))}))}));W.displayName="ButtonGroup";var ee=W,te=n(2331);var ne=function(){var e=(0,h.I0)(),t=(0,a.useContext)(Re).eventData,n=(0,a.useState)(!1),r=(0,s.Z)(n,2),i=r[0],c=r[1],u=(0,T.is)(1).eventMbs,x=(0,I.JR)(u,t.user),j=function(){var n=(0,o.Z)((0,d.Z)().mark((function n(s,a){var r;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={eventId:t.id,userId:a,status:s},e((0,m.TM)(r,c)).then((function(){e((0,m.Bk)(t.id)),(0,v.uY)(x.map((function(e){return e.username})))}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,y.jsx)("div",{className:"mt-3",children:(0,y.jsx)(te.G,{headerItems:(0,y.jsx)("th",{colSpan:2,children:(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center mx-2",children:["New requests (",x.length,")"]})}),tableItems:x.length>0?(0,y.jsx)(y.Fragment,{children:x.map((function(e,t){return(0,y.jsxs)("tr",{className:"table_row",children:[(0,y.jsx)(te.F,{cols:"col-11",children:(0,y.jsxs)("div",{className:"d-flex align-items-center col col-sm-9",children:[(0,y.jsx)(S.Q,{image:e.gravatarImage}),(0,y.jsxs)("div",{className:"ms-4",children:[(0,y.jsxs)(l.rU,{to:{pathname:"/".concat(D.ih,"/").concat(D.L6),search:"user=".concat(e.username)},children:["@",e.username]}),(0,y.jsx)("small",{className:"d-block text-muted",children:e.email})]})]})}),(0,y.jsx)(te.F,{cols:"col-1",children:(0,y.jsxs)(ee,{"aria-label":"Basic example",className:"w-100 gap-1",children:[(0,y.jsx)(B.Z,{variant:"light",className:"postBtn-placements cta_button",onClick:function(){return j(1,e.userId)},children:i?(0,y.jsx)(M.g,{}):(0,y.jsx)("span",{className:"d-flex align-items-center",children:(0,y.jsx)(f.dR,{})})}),(0,y.jsx)(B.Z,{variant:"light",className:"postBtn-placements cta_button",onClick:function(){return j(2,e.userId)},children:i?(0,y.jsx)(M.g,{}):(0,y.jsx)("span",{className:"d-flex align-items-center",children:(0,y.jsx)(f.X1,{type:"custom"})})})]})})]},t)}))}):(0,y.jsx)("tr",{className:"table_row",children:(0,y.jsx)("td",{className:"text-center",children:(0,y.jsx)("div",{className:"table-content",children:(0,y.jsx)("h6",{className:"p-0 m-0",children:"No requests"})})})})})})};function se(e){var t=(0,l.lr)({}),n=(0,s.Z)(t,1)[0].get("page");return n=parseInt(n),e>10&&e===10*n-9&&(n-=1),n}var ae=n(5369);var re=function(e){var t=(0,h.I0)(),n=(0,c.s0)(),r=(0,a.useRef)(),i=(0,a.useState)(!1),l=(0,s.Z)(i,2),m=l[0],x=l[1],v=se(e.commentCount),j=function(){var s=(0,o.Z)((0,d.Z)().mark((function s(a){return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.preventDefault(),t((0,ae.PN)(e.commentId,x)).then((function(s){s.status===p.OK&&(t((0,ae.h_)(e.eventId,v)),n("/".concat(D.Ks,"/").concat(e.eventId,"?page=").concat(v),{replace:!0,state:{id:v}}))}));case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,y.jsx)(k.Z,{ref:r,customBtn:"",btnIcon:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(f.HG,{}),"Delete"]}),title:"Delete Comment",children:(0,y.jsxs)(u.Z,{onSubmit:function(e){j(e)},children:[(0,y.jsxs)("div",{className:"mt-3",children:[(0,y.jsx)("strong",{className:"d-block",children:"Are you sure you want to delete this comment?"}),(0,y.jsx)("span",{children:"This cannot be undone"})]}),(0,y.jsx)("div",{className:"mt-3 d-flex justify-content-center",children:(0,y.jsx)(B.Z,{type:"submit",onClick:function(){return r.current.setModalShow()},variant:"danger w-100",children:m?(0,y.jsx)(M.g,{}):(0,y.jsx)(y.Fragment,{children:"Remove"})})})]})})},ie=function(e,t,n,s){return{options_owner:[{item:(0,y.jsx)("div",{children:(0,y.jsx)(x.Z,{type:"",btnStyle:"postBtn-placements",variant:"primary",onClick:s,placeholder:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(f.I8,{}),"Edit"]})})})},{item:(0,y.jsx)(re,{commentId:e,eventId:t,commentCount:n})}]}};var ce=function(e){var t=(0,h.I0)(),n=(0,a.useState)(e.content),r=(0,s.Z)(n,2),c=r[0],l=r[1],m=se(),g=function(){var n=(0,o.Z)((0,d.Z)().mark((function n(s){var a;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.preventDefault(),a={content:c},t((0,ae.uA)(e.commentId,a)).then((function(n){n.status===p.OK&&(t((0,ae.h_)(e.eventId,m)),(0,v.uY)((0,j.Mh)(c)))})),e.handleUpate();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,y.jsx)(u.Z,{onSubmit:function(e){g(e)},className:"w-100",children:(0,y.jsxs)(i.Z,{className:"editor-card",children:[(0,y.jsx)(i.Z.Header,{className:"pb-0",children:(0,y.jsx)("h6",{className:"fw-bold m-0",children:"Edit comment"})}),(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsx)(u.Z.Control,{spellCheck:!0,placeholder:"What's on your mind?",as:"textarea",value:c||"",onChange:function(e){return l(e.target.value)},required:!0}),(0,y.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,y.jsx)(x.Z,{type:"",btnStyle:"postBtn-placements",variant:"primary",onClick:e.handleUpate,placeholder:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)(f.X1,{}),"Cancel"]})}),(0,y.jsx)(x.Z,{type:"submit",btnStyle:"formBtn cta_button",variant:"primary",formValidation:""===c,isLoading:"",placeholder:(0,y.jsx)("div",{className:"d-flex align-items-center",children:"Update"})})]})]})]})})},le=function(e){var t=e.commentData.totalLikes,n=e.commentData.likeStatus,s=n&&t>2?"Liked by you and ".concat(t-1," others"):n&&1===t?"You liked this":!n&&t>1||n&&2===t?"".concat(t," likes"):n||1!==t?"Like":"".concat(t," like");return(0,y.jsxs)("span",{className:"d-flex align-items-center fw-normal small text-muted",children:[(0,y.jsx)(f.mN,{likeStatus:e.commentData.likeStatus}),s]})},de=n(2004);var oe=function(e){var t=(0,h.I0)(),n=(0,a.useContext)(Re).eventData,s=(0,a.useContext)(R.q),r=(0,q.j)(!1),c=r.editorMode,l=r.handleClick,d=se();return(0,y.jsxs)("div",{className:"event-card_dash m-0 mt-4",children:[(0,y.jsxs)("div",{className:"d-flex",id:"card_header",children:[(0,y.jsx)(z.Z,{id:"profile-popover",data:e.commentData.username,children:(0,y.jsx)(S.Q,{image:e.commentData.gravatarImage,imgClass:"me-2 cursor-event",id:"card-img"})}),(0,y.jsx)(de.R,{username:e.commentData.username,size:"sm"}),(0,y.jsx)("div",{className:"me-auto",children:(0,y.jsxs)("span",{className:"card-timestamp text-muted align-self-center",children:[e.commentData.humanTimeDiffCreatedAt," ago"]})}),(0,y.jsx)(K.$,{children:s===e.commentData.user&&(0,y.jsx)(O,{children:ie(e.commentData.id,n.id,e.commentCount,l).options_owner.map((function(e,t){return(0,y.jsx)("div",{className:"p-1",children:e.item},t)}))})})]}),c?(0,y.jsx)(ce,{eventId:n.id,commentId:e.commentData.id,content:e.commentData.content,handleUpate:l}):(0,y.jsx)(i.Z,{className:"comment-item",children:(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsx)(i.Z.Text,{className:"content_sm1",dangerouslySetInnerHTML:{__html:e.commentData.content?(0,j.pf)(e.commentData.content):e.commentData.content}}),(0,y.jsx)(K.$,{children:(0,y.jsx)(ee,{"aria-label":"Basic example",className:"mt-3 w-100 gap-2",children:(0,y.jsx)(B.Z,{variant:"light",className:"postBtn-placements cta_button p-0",onClick:function(){t((0,ae.Hv)(e.commentData.id)).then((function(s){s.status===p.OK&&(t((0,ae.h_)(n.id,d)),(0,v.uY)([e.commentData.username]))}))},children:(0,y.jsx)(le,{commentData:e.commentData})})})})]})})]})},ue=n(4877),me=n(5178),he=n(7571);var xe=function(e){var t=e.onCommentChange,n=e.formValue,r=e.identifier,i=(0,a.useContext)(Re).eventMbs,c=(0,I.vi)(i),l=(0,a.useState)(!1),d=(0,s.Z)(l,2),o=d[0],u=d[1],m=(0,a.useState)([]),h=(0,s.Z)(m,2),x=h[0],v=h[1],j=function(e){if(!e)return"";var t=e.split(" ");return t[t.length-1]};(0,a.useEffect)((function(){j(n).includes(r)?u(!0):u(!1)}),[n]);var f=(0,a.useCallback)((function(e){var s=e.username,a=document.getElementsByName("content")[0];s=j(n).includes(r)?"".concat(e.username," "):"".concat(r).concat(e.username," ");var i=n&&!j(n).includes(r)?"".concat(n).concat(s):n&&j(n).includes(r)?"".concat(n.replace(j(n),r)).concat(s):s;a&&a.focus(),t(i)}),[n,r,t]);return(0,a.useEffect)((function(){for(var e,t=new RegExp("".concat(r,"(\\w+)"),"g"),s=[],a=function(){var t=e[1],n=c.find((function(e){return e.username.includes(t)}));n&&s.push(n)};null!==(e=t.exec(j(n)));)a();v(s)}),[n,r]),(0,y.jsxs)(H.Z,{show:o,onToggle:function(){return u(!o)},children:[(0,y.jsx)(H.Z.Toggle,{variant:"light",size:"sm",id:"dropdown-tag",children:r}),(0,y.jsx)(H.Z.Menu,{children:c.length>0?(x.length>0?x:c).map((function(e,t){return(0,y.jsx)(H.Z.Item,{onClick:function(){return f(e)},children:(0,y.jsxs)("div",{className:"d-block",children:[(0,y.jsx)("img",{src:e.gravatarImage,className:"members-img me-3",alt:"Img"}),e.username]})},t)})):(0,y.jsx)(H.Z.Item,{children:(0,y.jsx)("span",{children:"No suggestions"})})})]})};var ve=function(e){var t={content:""},n=(0,h.I0)(),r=(0,a.useRef)(0),c=se(),l=(0,a.useState)(!1),m=(0,s.Z)(l,2),f=m[0],g=m[1],N=(0,a.useState)(!1),Z=(0,s.Z)(N,2),b=Z[0],C=Z[1],w=(0,a.useContext)(Re).eventData,k=(0,a.useContext)(ue.S),I=(0,he.n)(t),D=I.formValue,P=I.setFormValue,_=I.handleFieldChange,B=(0,a.useCallback)((function(e){P((function(t){return(0,V.Z)((0,V.Z)({},t),{},{content:e})}))}),[P]);(0,a.useEffect)((function(){""===D.content?C(!0):C(!1)}),[D]);var M=function(){var s=(0,o.Z)((0,d.Z)().mark((function s(a){var i;return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.preventDefault(),i=(0,V.Z)((0,V.Z)({},D),{},{content:D.content}),n((0,ae.Yr)(e.id,i,g)).then((function(s){s.status===p.OK&&(r.current.reset(),P(t),n((0,ae.h_)(e.id,c)),(0,v.uY)((0,j.Mh)(i.content,w.userName)))}));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,y.jsx)(i.Z,{className:"comment-card",children:(0,y.jsx)(i.Z.Body,{children:(0,y.jsxs)(u.Z,{onSubmit:function(e){M(e)},ref:r,children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(S.Q,{image:k.currentUser.gravatarImage,imgClass:"user-img me-3"}),(0,y.jsx)(u.Z.Control,{name:"content",spellCheck:!0,placeholder:"Add a comment...",as:"textarea",value:0!==Object.keys(D.content).length?D.content:"",onChange:_,rows:2,required:!0})]}),(0,y.jsx)(me.O,{}),(0,y.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,y.jsx)(xe,{onCommentChange:B,formValue:D.content,identifier:"@"}),(0,y.jsx)(x.Z,{type:"submit",btnStyle:"formBtn cta_button",variant:"primary",formValidation:b,isLoading:f,placeholder:(0,y.jsx)("div",{className:"d-flex align-items-center",children:"Comment"})})]})]})})})},je=n(6445),fe=["active","disabled","className","style","activeLabel","children","linkStyle","linkClassName"],pe=["children"],ge=a.forwardRef((function(e,t){var n=e.active,s=void 0!==n&&n,a=e.disabled,r=void 0!==a&&a,i=e.className,c=e.style,l=e.activeLabel,d=void 0===l?"(current)":l,o=e.children,u=e.linkStyle,m=e.linkClassName,h=(0,G.Z)(e,fe),x=s||r?"span":je.Z;return(0,y.jsx)("li",{ref:t,style:c,className:$()(i,"page-item",{active:s,disabled:r}),children:(0,y.jsxs)(x,(0,V.Z)((0,V.Z)({className:$()("page-link",m),style:u},h),{},{children:[o,s&&d&&(0,y.jsx)("span",{className:"visually-hidden",children:d})]}))})}));ge.displayName="PageItem";var Ne=ge;function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=a.forwardRef((function(e,s){var a=e.children,r=(0,G.Z)(e,pe);return(0,y.jsxs)(ge,(0,V.Z)((0,V.Z)({},r),{},{ref:s,children:[(0,y.jsx)("span",{"aria-hidden":"true",children:a||t}),(0,y.jsx)("span",{className:"visually-hidden",children:n})]}))}));return s.displayName=e,s}var be=Ze("First","\xab"),ye=Ze("Prev","\u2039","Previous"),Ce=Ze("Ellipsis","\u2026","More"),we=Ze("Next","\u203a"),Se=Ze("Last","\xbb"),ke=["bsPrefix","className","size"],Ie=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,a=e.size,r=(0,G.Z)(e,ke),i=(0,X.vE)(n,"pagination");return(0,y.jsx)("ul",(0,V.Z)((0,V.Z)({ref:t},r),{},{className:$()(s,i,a&&"".concat(i,"-").concat(a))}))}));Ie.displayName="Pagination";var De=Object.assign(Ie,{First:be,Prev:ye,Ellipsis:Ce,Item:Ne,Next:we,Last:Se}),Pe=function(e){for(var t=e.postsPerPage,n=e.totalPosts,s=e.paginate,a=e.currentPage,i=[],c=1;c<=Math.ceil(n/t);c++)i.push(c);return(0,y.jsx)("div",{className:"paginate_div",children:(0,y.jsx)(De,{size:"sm",children:(0,y.jsxs)(r.Z,{className:"d-flex justify-content-center",id:"pagi-container",children:[(0,y.jsx)(De.Prev,{id:"prev",onClick:function(){return s(a-1)},disabled:1===a,children:"Prev"}),1!==a&&i.length>5&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(De.First,{onClick:function(){return s(1)},disabled:1===a,children:"1"}),(0,y.jsx)(De.Ellipsis,{disabled:!0})]}),i.map((function(e,t){return(0,y.jsx)("div",{children:(0,y.jsx)(De.Item,{active:e===a,onClick:function(){return s(e)},href:"#",children:e})},t)})),a!==i.length&&i.length>5&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(De.Ellipsis,{disabled:!0}),(0,y.jsx)(De.Last,{onClick:function(){return s(i.length)},disabled:a===i.length,children:i.length})]}),(0,y.jsx)(De.Next,{id:"next",onClick:function(){return s(a+1)},disabled:a===i.length,children:"Next"})]})})})},_e=["bsPrefix","active","children","className","as","linkAs","linkProps","href","title","target"],Be=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.active,a=void 0!==s&&s,r=e.children,i=e.className,c=e.as,l=void 0===c?"li":c,d=e.linkAs,o=void 0===d?je.Z:d,u=e.linkProps,m=void 0===u?{}:u,h=e.href,x=e.title,v=e.target,j=(0,G.Z)(e,_e),f=(0,X.vE)(n,"breadcrumb-item");return(0,y.jsx)(l,(0,V.Z)((0,V.Z)({ref:t},j),{},{className:$()(f,i,{active:a}),"aria-current":a?"page":void 0,children:a?r:(0,y.jsx)(o,(0,V.Z)((0,V.Z)({},m),{},{href:h,title:x,target:v,children:r}))}))}));Be.displayName="BreadcrumbItem";var Me=Be,Ee=["bsPrefix","className","listProps","children","label","as"],Le=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,a=e.listProps,r=void 0===a?{}:a,i=e.children,c=e.label,l=void 0===c?"breadcrumb":c,d=e.as,o=void 0===d?"nav":d,u=(0,G.Z)(e,Ee),m=(0,X.vE)(n,"breadcrumb");return(0,y.jsx)(o,(0,V.Z)((0,V.Z)({"aria-label":l,className:s,ref:t},u),{},{children:(0,y.jsx)("ol",(0,V.Z)((0,V.Z)({},r),{},{className:$()(m,null==r?void 0:r.className),children:i}))}))}));Le.displayName="Breadcrumb";var Te=Object.assign(Le,{Item:Me});var Fe=function(e){return(0,y.jsx)(y.Fragment,{children:e.items&&(0,y.jsx)(Te,{className:"w-100",children:e.items.map((function(e,t){return(0,y.jsx)(Te.Item,{href:e.path,active:e.current,className:"text-truncate",children:e.title},t)}))})})},Ue=n(8899),Re=(0,a.createContext)();var Ae=function(){var e=se(),t=(0,c.TH)().state,n=(0,T.is)(e),d=n.eventData,o=n.commentData,u=n.eventMbs,m=(0,a.useState)(1),h=(0,s.Z)(m,2),x=h[0],v=h[1],j=(0,a.useState)(10),p=(0,s.Z)(j,1)[0],g=(0,l.lr)({}),N=(0,s.Z)(g,2),Z=(N[0],N[1]);(0,a.useEffect)((function(){if(t){var e=t.id;v(e)}}),[t]),(0,a.useEffect)((function(){Z({page:x})}),[Z,x]);var b=d?[{title:"Dashboard",path:"/".concat(D.vA),current:!1},{title:d.title,path:"/".concat(D.Ks,"/").concat(d.id),current:!0}]:"",C=function(){return d?{eventActive:d.eventStatus!==A.ew&&d.eventStatus!==A._H,participant:d.joinedStatus===A.vP||d.joinedStatus===A.yI}:null};return(0,y.jsx)(Re.Provider,{value:{eventData:d,eventMbs:u},children:d&&(0,y.jsx)("div",{style:{position:"relative"},children:(0,y.jsxs)("div",{className:"dash-container",children:[(0,y.jsx)("div",{className:"content",children:(0,y.jsxs)(r.Z,{className:"content-wrapper",children:[(0,y.jsx)(Fe,{items:b}),o.results&&o.count>0?o.results.map((function(e,t){return(0,y.jsx)("div",{children:(0,y.jsx)(oe,{commentData:e,commentCount:o.count})},t)})):(0,y.jsx)(i.Z,{className:"comment-item",children:(0,y.jsxs)(i.Z.Body,{className:"text-center",children:[(0,y.jsx)("h6",{className:"p-0 m-0",children:"No events scheduled"}),(0,y.jsx)("small",{children:"List of events in which you participate or events you create."})]})}),o.count>10&&(0,y.jsx)(Pe,{postsPerPage:p,totalPosts:o.count,paginate:function(e){return v(e)},currentPage:x})]})}),(0,y.jsx)("div",{className:"sidebar_eventDash",children:(0,y.jsx)("div",{className:"sidebar_eventDash-wrapper",children:(0,y.jsxs)(r.Z,{className:"content-wrapper",children:[(d.eventStatus===A.ew||d.eventStatus===A._H)&&(0,y.jsx)(Ue.r,{title:"Note",content:(0,y.jsxs)(y.Fragment,{children:["This event now has"," ",(0,y.jsx)(I.sT,{eventStatus:d.eventStatus})," ","therefore it can not be updated or participated in."]}),icon:(0,y.jsx)(f.d,{}),cardStyle:{backgroundColor:"#eaebfd"}}),(0,y.jsx)(Y,{}),(0,y.jsxs)(K.$,{children:[C().eventActive&&(C().participant?(0,y.jsx)(ve,{id:d.id}):(0,y.jsx)(i.Z,{className:"event-card",children:(0,y.jsx)(i.Z.Body,{children:(0,y.jsx)("small",{className:"fw-semibold",children:"You will be able to collaborate with others via comments once your request is approved."})})})),(d?d.joinedStatus===A.vP&&!d.fullStatus&&d.eventStatus!==A.ew&&d.eventStatus!==A._H:null)&&(0,y.jsx)(ne,{})]})]})})})]})})})}}}]);
//# sourceMappingURL=53.ce24c7b2.chunk.js.map