"use strict";(self.webpackChunkrunit=self.webpackChunkrunit||[]).push([[397],{330:function(e,t,n){var s=n(9439),a=n(2791),i=n(18),r=n(4035),c=n(488),l=n(6030),o=n(5178),d=n(271),u=n(7689),m=n(1143),h=n(5806),x=n(184);t.Z=function(){var e=(0,l.I0)(),t=(0,u.s0)(),n=(0,m.f)().currentUser,j=(0,a.useState)(!1),f=(0,s.Z)(j,2),g=f[0],v=f[1];return n&&0!==Object.keys(n).length?(0,x.jsxs)(i.Z,{show:!n.is_email_verified,variant:"danger",children:[(0,x.jsxs)("h6",{className:"d-flex justify-content-between",children:["Verify your account ",(0,x.jsx)(o.O,{})]}),(0,x.jsx)("small",{children:"Verify your account to start running it! \ud83d\ude80"}),(0,x.jsx)(r.Z,{type:"submit",btnStyle:"formBtn cta_button mt-3 d-block",variant:"danger",isLoading:g,onClick:function(n){n.preventDefault(),e((0,c.Rv)(v)).then((function(e){e.status===d.OK&&t("/".concat(h.xd))}))},placeholder:(0,x.jsx)("div",{className:"d-flex align-items-center fw-bold",children:"Verify"})})]}):null}},4397:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var s=n(9439),a=n(2791),i=n(7022),r=n(9743),c=n(2677),l=n(5070),o=n(4165),d=n(1413),u=n(5861),m=n(5313),h=n(6030),x=n(5551),j=n(4680),f=n(4035),g=n(2557),v=n(271),p=n(7571),b=n(6833),N=n(5178),y=n(7689),Z=n(4855),S=n(5806),D=n(6770),w=n.n(D),k=n(5290),C=n(4327),_=n(8554),T=n(6217),I=n(7892),B=n.n(I),L=n(184);var M=function(e){var t=(0,h.I0)(),n=(0,y.s0)(),i=(0,a.useRef)(0),c=(0,k.P)(),D=c.modules,I=c.formats,M={title:"",maxMember:0,details:"",date:"",time:""},E=(0,p.n)(M),F=E.formValue,O=E.setFormValue,P=E.handleFieldChange,V=(0,a.useState)(!1),U=(0,s.Z)(V,2),$=U[0],z=U[1],H=(0,a.useState)(!1),K=(0,s.Z)(H,2),R=K[0],q=K[1],W=new Date(F.date),Q=(0,a.useState)(!1),Y=(0,s.Z)(Q,2),A=Y[0],X=Y[1],G=(0,a.useState)(!1),J=(0,s.Z)(G,2),ee=J[0],te=J[1];(0,a.useEffect)((function(){/\S/.test(F.details)?z(!1):z(!0)}),[F.details]);var ne=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(s){var a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),a=(0,d.Z)((0,d.Z)({},F),{},{year:W.getFullYear(),month:W.getMonth()+1,day:W.getDate(),hour:""!==F.time?parseInt(F.time.split(":")[0]):"",minute:""!==F.time?parseInt(F.time.split(":")[1]):""}),t((0,x.My)(a,q)).then((function(e){var s=e.status,a=e.data;s===v.OK&&(i.current.reset(),O(M),(0,j.uY)((0,g.Mh)(a.data.details)),t({type:Z.jN}),n("/".concat(S.Ks,"/").concat(a.data.id,"?page=1")))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){0!==Object.keys(e.suggestion).length&&O({title:"".concat(e.suggestion.title," - ").concat(e.suggestion.category),details:"Link: <a href=".concat(e.suggestion.link,' targe="_blank">').concat(e.suggestion.title,"</a><br/>Location: ").concat(e.suggestion.location,"<br/>Category: ").concat(e.suggestion.category,"\n\n"),date:new Date(e.suggestion.time).toISOString().split("T")[0],time:new Date(e.suggestion.time).toLocaleTimeString("en-US",{timeStyle:"short",hour12:!1}),maxMember:F.maxMember})}),[e.suggestion,O]),(0,L.jsxs)(l.Z,{className:"create_event-card",children:[(0,L.jsx)(l.Z.Header,{children:(0,L.jsx)("p",{className:"fw-bold m-0",children:"Create event"})}),(0,L.jsx)(l.Z.Body,{children:(0,L.jsxs)(m.Z,{onSubmit:function(e){ne(e)},ref:i,children:[(0,L.jsxs)("div",{className:"new-post-container",children:[(0,L.jsxs)(b.c,{formId:"formBasicTitle",children:[(0,L.jsx)(b.l,{children:"Event Title"}),(0,L.jsx)(m.Z.Control,{type:"title",name:"title",value:F.title,onChange:P,required:!0})]}),(0,L.jsxs)(r.Z,{children:[(0,L.jsxs)(b.c,{formId:"formBasicNumber",customStyle:"col-md-4",children:[(0,L.jsx)(b.l,{children:"Size"}),(0,L.jsx)(m.Z.Control,{type:"number",name:"maxMember",className:"mb-3",onChange:P,min:"2",required:!0})]}),(0,L.jsxs)(b.c,{formId:"formBasicTime",customStyle:"col-md-4",children:[(0,L.jsx)(b.l,{children:"Time"}),(0,L.jsx)(_.j,{className:"dateTimePicker mb-3",open:ee,onClose:function(){return te(!1)},value:F.time.$d||B()(F.time,"HH:mm"),onChange:function(e){(0,T.Ws)(new Date(e).toLocaleTimeString("en-US",{timeStyle:"short",hour12:!1}),O,["time"])},slots:{openPickerButton:function(){return""}},slotProps:{textField:{onClick:function(){return te(!0)}}}})]}),(0,L.jsxs)(b.c,{formId:"formBasicDate",customStyle:"col-md-4",children:[(0,L.jsx)(b.l,{children:"Date"}),(0,L.jsx)(C.M,{className:"dateTimePicker mb-3",open:A,onClose:function(){return X(!1)},value:F.date.$d||B()(F.date),onChange:function(e){(0,T.Ws)(e,O,["date"])},disablePast:!0,slots:{openPickerButton:function(){return""}},slotProps:{textField:{onClick:function(){return X(!0)}}}})]})]}),(0,L.jsx)(b.c,{formId:"formBasicDetails",children:(0,L.jsx)(w(),{name:"details",theme:"snow",modules:D,formats:I,value:F.details,onChange:function(e){(0,T.Ws)(e,O,["details"])}})})]}),(0,L.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,L.jsx)(N.O,{}),(0,L.jsx)(f.Z,{type:"submit",btnStyle:"formBtn cta_button",variant:"primary",formValidation:$,isLoading:R,placeholder:(0,L.jsx)("div",{className:"d-flex align-items-center",children:"Create event"})})]})]})})]})},E=n(1087),F=n(6479),O=n(5892),P=n(9235),V=n(2004),U=n(6104);var $=function(e){return(0,L.jsxs)("div",{className:"event-card_dash",children:[(0,L.jsxs)("div",{className:"d-flex",id:"card_header",children:[(0,L.jsx)(F.Z,{id:"profile-popover",data:e.eventData.userName,children:(0,L.jsx)(P.Q,{image:e.eventData.gravatarImage,imgClass:"me-2 cursor-event",id:"card-img"})}),(0,L.jsx)(V.R,{username:e.eventData.userName,size:"sm"}),(0,L.jsx)("div",{className:"me-auto",children:(0,L.jsxs)("span",{className:"card-timestamp text-muted align-self-center",children:[e.eventData.humanTimeDiffCreatedAt," ago"]})}),(0,L.jsx)(T.OE,{eventData:e.eventData}),(0,L.jsx)(U.$,{children:(0,L.jsx)(T.zq,{eventData:e.eventData,btnStyleFull:!1})})]}),(0,L.jsxs)(l.Z,{children:[(0,L.jsxs)(l.Z.Body,{children:[(0,L.jsx)("div",{className:"event-brief mt-1",children:(0,L.jsxs)("h4",{children:[e.eventData.title," "]})}),(0,L.jsx)("div",{className:"mt-2",children:(0,L.jsx)("p",{className:"text-muted content_sm1",dangerouslySetInnerHTML:{__html:e.eventData.details}})}),(0,L.jsx)(T.sT,{content:e.eventData.timeToEvent,eventStatus:e.eventData.eventStatus})]}),(0,L.jsx)(l.Z.Footer,{children:(0,L.jsxs)(E.rU,{to:"/".concat(S.Ks,"/").concat(e.eventData.id),children:["Details ",(0,L.jsx)(O.ol,{})]})})]})]})},z=n(3574),H=n(6462),K=n(1398),R=n(5736),q=n(3360),W=n(1275),Q=n(1518),Y=function(e){var t=(0,h.I0)(),n=(0,a.useState)([]),i=(0,s.Z)(n,2),r=i[0],c=i[1],l=(0,a.useState)(!1),d=(0,s.Z)(l,2),m=d[0],x=d[1];(0,a.useEffect)((function(){t(function(e,t){return function(){var n=(0,u.Z)((0,o.Z)().mark((function n(s){var a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="/event/createSuggestions/".concat(e,"/"),n.next=3,(0,Q.r_)(s,a,null,Z.NR,t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e||1,x))}),[t,e]);var j=(0,h.v9)((function(e){return e.suggestions.suggestEvent}));return(0,a.useEffect)((function(){j&&c(j)}),[j]),{suggestData:r,isLoading:m}},A=n(5779),X=function(e){return(0,L.jsx)(F.Z,{id:"popover-basic",popoverBody:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"p-2",children:[(0,L.jsx)("span",{className:"fw-bold",children:"Location: "}),(0,L.jsx)("span",{children:e.content.location})]}),(0,L.jsxs)("div",{className:"p-2",children:[(0,L.jsx)("span",{className:"fw-bold",children:"Date: "}),(0,L.jsx)("span",{children:new Date(e.content.timeStamp).toLocaleDateString()})]}),(0,L.jsxs)("div",{className:"p-2",children:[(0,L.jsx)("span",{className:"fw-bold",children:"Time: "}),(0,L.jsx)("span",{children:new Date(e.content.timeStamp).toLocaleTimeString("en-US",{timeStyle:"short",hour12:!0})})]}),(0,L.jsx)("div",{className:"p-2",children:(0,L.jsx)("a",{href:e.content.link,rel:"noreferrer",target:"_blank",children:"More Information"})})]}),childrenClass:"username_tags align-self-center",children:e.icon})};var G=function(e){var t=(0,a.useState)(""),n=(0,s.Z)(t,2),i=n[0],r=n[1],c=Y(1);return(0,a.useEffect)((function(){e.userData&&i&&e.userData(i)}),[i,e]),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(K.Z,{as:"ol",className:"mb-3 suggested",children:[(0,L.jsx)(A.M,{children:"Suggestions"}),c.suggestData.data?c.suggestData.data.map((function(e,t){return(0,L.jsxs)(K.Z.Item,{as:"li",className:"p-3",children:[(0,L.jsxs)("div",{className:"d-flex justify-content-between gap-1 align-items-start",children:[(0,L.jsx)("div",{className:"me-auto",children:(0,L.jsx)("span",{className:"fw-bold",children:e.title})}),(0,L.jsx)(X,{content:{location:e.location,timeStamp:e.time,link:e.link},icon:(0,L.jsx)(O.d,{})})]}),(0,L.jsx)("div",{className:"mt-3",children:(0,L.jsx)("img",{src:e.image,alt:"suggested-event-img",width:"100%"})}),(0,L.jsxs)("div",{className:"d-flex justify-content-between align-items-start mt-4",children:[(0,L.jsx)(R.Z,{bg:"secondary",children:e.category}),(0,L.jsx)(U.$,{children:(0,L.jsx)(q.Z,{className:"d-block",onClick:function(){return r(e)},size:"sm",children:"Event it"})})]})]},t)})):c.isLoading?(0,L.jsx)(W.O,{}):(0,L.jsx)("h6",{className:"m-1",children:"No suggestions at this moment...."})]})})},J=n(330),ee=n(7381);var te=function(){var e=(0,H.bi)(),t=e.count,n=e.hasMore,o=e.load,d=e.eventData,u=e.handleLoadMore,m=(0,a.useState)({}),h=(0,s.Z)(m,2),x=h[0],j=h[1];return(0,L.jsx)("div",{style:{position:"relative"},children:(0,L.jsxs)("div",{className:"dash-container",id:"main",children:[(0,L.jsx)("div",{className:"sidebar",children:(0,L.jsx)("div",{className:"sidebar-wrapper",children:(0,L.jsx)("div",{className:"sidebar_left",children:(0,L.jsx)(G,{userData:function(e){e&&j(e)}})})})}),(0,L.jsx)("div",{className:"content",children:(0,L.jsxs)(i.Z,{children:[(0,L.jsxs)("div",{children:[(0,L.jsx)(U.$,{children:(0,L.jsx)(M,{suggestion:x})}),(0,L.jsx)(r.Z,{xs:1,sm:1,md:1,children:t>0?d.map((function(e,t){return(0,L.jsx)(c.Z,{children:(0,L.jsx)($,{eventData:e})},t)})):o||0!==t?(0,L.jsx)(c.Z,{children:(0,L.jsx)(W.g,{})}):(0,L.jsx)("div",{children:(0,L.jsx)("h1",{children:"Nothing yet..."})})})]}),n&&(0,L.jsx)("div",{className:"w-100 d-flex justify-content-center mb-3",children:(0,L.jsx)(f.Z,{type:"submit",btnStyle:"formBtn cta_button d-block mt-2",variant:"primary",isLoading:o,onClick:u,placeholder:(0,L.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:"Show more"})})})]})}),(0,L.jsx)("div",{className:"sidebar",children:(0,L.jsx)("div",{className:"sidebar-wrapper ",children:(0,L.jsxs)("div",{className:"sidebar_right",children:[(0,L.jsx)(J.Z,{}),(0,L.jsx)(l.Z,{children:(0,L.jsx)(l.Z.Body,{children:(0,L.jsx)(z.Z,{})})}),(0,L.jsx)(N.X,{successTypes:ee.Ql})]})})})]})})}}}]);
//# sourceMappingURL=397.b8172f49.chunk.js.map