{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{refreshToken,setToken}from\"../securityUtils/setToken\";import{GET_ERRORS,GET_EVENT_SUGGESTIONS}from\"./types\";export var getSuggestions=function getSuggestions(id,setIsLoading){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return refreshToken().then(function(ref){setToken(ref.data.access);axios.get(\"http://localhost:8000/api/event/createSuggestions/\".concat(id,\"/\")).then(function(res){dispatch({type:GET_EVENT_SUGGESTIONS,payload:res.data});}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});}).finally(function(){setIsLoading(false);});});case 3:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","refreshToken","setToken","GET_ERRORS","GET_EVENT_SUGGESTIONS","getSuggestions","id","setIsLoading","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","wrap","_callee$","_context","prev","next","then","ref","data","access","get","concat","res","type","payload","catch","error","response","finally","stop","_x","apply","arguments"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/actions/suggestAction.js"],"sourcesContent":["import axios from \"axios\";\nimport { refreshToken, setToken } from \"../securityUtils/setToken\";\nimport { GET_ERRORS, GET_EVENT_SUGGESTIONS } from \"./types\";\n\nexport const getSuggestions = (id, setIsLoading) => async (dispatch) => {\n  setIsLoading(true);\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/event/createSuggestions/${id}/`)\n      .then((res) => {\n        dispatch({\n          type: GET_EVENT_SUGGESTIONS,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  });\n};\n"],"mappings":"kQAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,YAAY,CAAEC,QAAQ,KAAQ,2BAA2B,CAClE,OAASC,UAAU,CAAEC,qBAAqB,KAAQ,SAAS,CAE3D,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,EAAE,CAAEC,YAAY,oCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOC,QAAQ,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACjEX,YAAY,CAAC,IAAI,CAAC,CAACS,QAAA,CAAAE,IAAA,SACb,CAAAjB,YAAY,CAAC,CAAC,CAACkB,IAAI,CAAC,SAACC,GAAG,CAAK,CACjClB,QAAQ,CAACkB,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC,CACzBtB,KAAK,CACFuB,GAAG,sDAAAC,MAAA,CAAsDlB,EAAE,KAAG,CAAC,CAC/Da,IAAI,CAAC,SAACM,GAAG,CAAK,CACbZ,QAAQ,CAAC,CACPa,IAAI,CAAEtB,qBAAqB,CAC3BuB,OAAO,CAAEF,GAAG,CAACJ,IACf,CAAC,CAAC,CACJ,CAAC,CAAC,CACDO,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBhB,QAAQ,CAAC,CACPa,IAAI,CAAEvB,UAAU,CAChBwB,OAAO,CAAEE,KAAK,CAACC,QAAQ,CAACT,IAC1B,CAAC,CAAC,CACJ,CAAC,CAAC,CACDU,OAAO,CAAC,UAAM,CACbxB,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAAC,yBAAAS,QAAA,CAAAgB,IAAA,MAAApB,OAAA,GACH,mBAAAqB,EAAA,SAAAzB,IAAA,CAAA0B,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}