{"ast":null,"code":"import\"./styles/App.scss\";import\"bootstrap/dist/css/bootstrap.min.css\";import{Route,Routes,Navigate,useLocation}from\"react-router-dom\";import Header from\"./layouts/header\";import Main from\"./components/UserAuth/main\";import{getAccessToken}from\"./securityUtils/setToken\";import React,{lazy,Suspense}from\"react\";import ProtectedRoute from\"./components/UserAuth/protected-route\";import{Spinner}from\"react-bootstrap\";import UserContext from\"./components/Context/user-context\";import SecurityContext from\"./components/Context/security-context\";import Cookies from\"js-cookie\";import ResponseContext from\"./components/Context/response-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileDash=/*#__PURE__*/lazy(function(){return import(\"./components/Dashboards/profile-dash\");});var EventDash=/*#__PURE__*/lazy(function(){return import(\"./components/Dashboards/event-dash\");});var Posts=/*#__PURE__*/lazy(function(){return import(\"./components/Dashboards/main-dash\");});var RoutesContainer=function RoutesContainer(_ref){var children=_ref.children;var path=useLocation().pathname;return/*#__PURE__*/_jsx(React.Fragment,{children:[\"/\",\"/signup\",\"/reset-password/\",\"/reset-password-auth\"].some(function(el){return path.includes(el);})?/*#__PURE__*/_jsx(ResponseContext,{children:children}):null});};function App(){var token=Cookies.get(\"token\");if(token){getAccessToken();}return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"auth-content\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}),children:/*#__PURE__*/_jsx(RoutesContainer,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password/:token\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password-auth\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/posts\",element:/*#__PURE__*/_jsxs(ProtectedRoute,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Posts,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsxs(UserContext,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(ProfileDash,{})]})})}),/*#__PURE__*/_jsx(Route,{path:\"/event/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsxs(SecurityContext,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(EventDash,{})]})})}),token?/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/posts\"})}):/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})});}export default App;","map":{"version":3,"names":["Route","Routes","Navigate","useLocation","Header","Main","getAccessToken","React","lazy","Suspense","ProtectedRoute","Spinner","UserContext","SecurityContext","Cookies","ResponseContext","jsx","_jsx","jsxs","_jsxs","ProfileDash","EventDash","Posts","RoutesContainer","_ref","children","path","pathname","Fragment","some","el","includes","App","token","get","fallback","className","animation","role","element","to"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/App.js"],"sourcesContent":["import \"./styles/App.scss\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Route, Routes, Navigate, useLocation } from \"react-router-dom\";\nimport Header from \"./layouts/header\";\nimport Main from \"./components/UserAuth/main\";\nimport { getAccessToken } from \"./securityUtils/setToken\";\nimport React, { lazy, Suspense } from \"react\";\nimport ProtectedRoute from \"./components/UserAuth/protected-route\";\nimport { Spinner } from \"react-bootstrap\";\nimport UserContext from \"./components/Context/user-context\";\nimport SecurityContext from \"./components/Context/security-context\";\nimport Cookies from \"js-cookie\";\nimport ResponseContext from \"./components/Context/response-context\";\n\nconst ProfileDash = lazy(() => import(\"./components/Dashboards/profile-dash\"));\nconst EventDash = lazy(() => import(\"./components/Dashboards/event-dash\"));\nconst Posts = lazy(() => import(\"./components/Dashboards/main-dash\"));\n\nconst RoutesContainer = ({ children }) => {\n  const path = useLocation().pathname;\n  return (\n    <React.Fragment>\n      {[\"/\", \"/signup\", \"/reset-password/\", \"/reset-password-auth\"].some((el) =>\n        path.includes(el)\n      ) ? (\n        <ResponseContext>{children}</ResponseContext>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nfunction App() {\n  const token = Cookies.get(\"token\");\n\n  if (token) {\n    getAccessToken();\n  }\n\n  return (\n    <Suspense\n      fallback={\n        <div className=\"auth-content\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      }\n    >\n      <RoutesContainer>\n        <Routes>\n          <Route path=\"/\" element={<Main />} />\n          <Route path=\"/signup\" element={<Main />} />\n          <Route path=\"/reset-password/:token\" element={<Main />} />\n          <Route path=\"/reset-password-auth\" element={<Main />} />\n\n          <Route\n            path=\"/posts\"\n            element={\n              <ProtectedRoute>\n                <Header />\n                <Posts />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/profile\"\n            element={\n              <ProtectedRoute>\n                <UserContext>\n                  <Header />\n                  <ProfileDash />\n                </UserContext>\n              </ProtectedRoute>\n            }\n          />\n\n          <Route\n            path=\"/event/:id\"\n            element={\n              <ProtectedRoute>\n                <SecurityContext>\n                  <Header />\n                  <EventDash />\n                </SecurityContext>\n              </ProtectedRoute>\n            }\n          />\n\n          {token ? (\n            <Route path=\"*\" element={<Navigate to=\"/posts\" />} />\n          ) : (\n            <Route path=\"*\" element={<Navigate to=\"/\" />} />\n          )}\n        </Routes>\n      </RoutesContainer>\n    </Suspense>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,mBAAmB,CAC1B,MAAO,sCAAsC,CAC7C,OAASA,KAAK,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACvE,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,IAAI,KAAM,4BAA4B,CAC7C,OAASC,cAAc,KAAQ,0BAA0B,CACzD,MAAO,CAAAC,KAAK,EAAIC,IAAI,CAAEC,QAAQ,KAAQ,OAAO,CAC7C,MAAO,CAAAC,cAAc,KAAM,uCAAuC,CAClE,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,WAAW,KAAM,mCAAmC,CAC3D,MAAO,CAAAC,eAAe,KAAM,uCAAuC,CACnE,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,eAAe,KAAM,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,GAAM,CAAAC,WAAW,cAAGZ,IAAI,CAAC,iBAAM,OAAM,CAAC,sCAAsC,CAAC,GAAC,CAC9E,GAAM,CAAAa,SAAS,cAAGb,IAAI,CAAC,iBAAM,OAAM,CAAC,oCAAoC,CAAC,GAAC,CAC1E,GAAM,CAAAc,KAAK,cAAGd,IAAI,CAAC,iBAAM,OAAM,CAAC,mCAAmC,CAAC,GAAC,CAErE,GAAM,CAAAe,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACjC,GAAM,CAAAC,IAAI,CAAGvB,WAAW,CAAC,CAAC,CAACwB,QAAQ,CACnC,mBACEV,IAAA,CAACV,KAAK,CAACqB,QAAQ,EAAAH,QAAA,CACZ,CAAC,GAAG,CAAE,SAAS,CAAE,kBAAkB,CAAE,sBAAsB,CAAC,CAACI,IAAI,CAAC,SAACC,EAAE,QACpE,CAAAJ,IAAI,CAACK,QAAQ,CAACD,EAAE,CAAC,EACnB,CAAC,cACCb,IAAA,CAACF,eAAe,EAAAU,QAAA,CAAEA,QAAQ,CAAkB,CAAC,CAC3C,IAAI,CACM,CAAC,CAErB,CAAC,CAED,QAAS,CAAAO,GAAGA,CAAA,CAAG,CACb,GAAM,CAAAC,KAAK,CAAGnB,OAAO,CAACoB,GAAG,CAAC,OAAO,CAAC,CAElC,GAAID,KAAK,CAAE,CACT3B,cAAc,CAAC,CAAC,CAClB,CAEA,mBACEW,IAAA,CAACR,QAAQ,EACP0B,QAAQ,cACNlB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAX,QAAA,cAC3BR,IAAA,CAACN,OAAO,EAAC0B,SAAS,CAAC,QAAQ,CAACC,IAAI,CAAC,QAAQ,CAAAb,QAAA,cACvCR,IAAA,SAAMmB,SAAS,CAAC,iBAAiB,CAAAX,QAAA,CAAC,YAAU,CAAM,CAAC,CAC5C,CAAC,CACP,CACN,CAAAA,QAAA,cAEDR,IAAA,CAACM,eAAe,EAAAE,QAAA,cACdN,KAAA,CAAClB,MAAM,EAAAwB,QAAA,eACLR,IAAA,CAACjB,KAAK,EAAC0B,IAAI,CAAC,GAAG,CAACa,OAAO,cAAEtB,IAAA,CAACZ,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCY,IAAA,CAACjB,KAAK,EAAC0B,IAAI,CAAC,SAAS,CAACa,OAAO,cAAEtB,IAAA,CAACZ,IAAI,GAAE,CAAE,CAAE,CAAC,cAC3CY,IAAA,CAACjB,KAAK,EAAC0B,IAAI,CAAC,wBAAwB,CAACa,OAAO,cAAEtB,IAAA,CAACZ,IAAI,GAAE,CAAE,CAAE,CAAC,cAC1DY,IAAA,CAACjB,KAAK,EAAC0B,IAAI,CAAC,sBAAsB,CAACa,OAAO,cAAEtB,IAAA,CAACZ,IAAI,GAAE,CAAE,CAAE,CAAC,cAExDY,IAAA,CAACjB,KAAK,EACJ0B,IAAI,CAAC,QAAQ,CACba,OAAO,cACLpB,KAAA,CAACT,cAAc,EAAAe,QAAA,eACbR,IAAA,CAACb,MAAM,GAAE,CAAC,cACVa,IAAA,CAACK,KAAK,GAAE,CAAC,EACK,CACjB,CACF,CAAC,cACFL,IAAA,CAACjB,KAAK,EACJ0B,IAAI,CAAC,UAAU,CACfa,OAAO,cACLtB,IAAA,CAACP,cAAc,EAAAe,QAAA,cACbN,KAAA,CAACP,WAAW,EAAAa,QAAA,eACVR,IAAA,CAACb,MAAM,GAAE,CAAC,cACVa,IAAA,CAACG,WAAW,GAAE,CAAC,EACJ,CAAC,CACA,CACjB,CACF,CAAC,cAEFH,IAAA,CAACjB,KAAK,EACJ0B,IAAI,CAAC,YAAY,CACjBa,OAAO,cACLtB,IAAA,CAACP,cAAc,EAAAe,QAAA,cACbN,KAAA,CAACN,eAAe,EAAAY,QAAA,eACdR,IAAA,CAACb,MAAM,GAAE,CAAC,cACVa,IAAA,CAACI,SAAS,GAAE,CAAC,EACE,CAAC,CACJ,CACjB,CACF,CAAC,CAEDY,KAAK,cACJhB,IAAA,CAACjB,KAAK,EAAC0B,IAAI,CAAC,GAAG,CAACa,OAAO,cAAEtB,IAAA,CAACf,QAAQ,EAACsC,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAErDvB,IAAA,CAACjB,KAAK,EAAC0B,IAAI,CAAC,GAAG,CAACa,OAAO,cAAEtB,IAAA,CAACf,QAAQ,EAACsC,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAChD,EACK,CAAC,CACM,CAAC,CACV,CAAC,CAEf,CAEA,cAAe,CAAAR,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}