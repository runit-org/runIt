{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{GET_ERRORS,GET_USER_PROFILE,GET_CURRENT_USER_PROFILE,SET_CURRENT_USER}from\"./types\";import{setToken,refreshToken}from\"../securityUtils/setToken\";export var getUserProfile=function getUserProfile(userName){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.get(\"http://localhost:8000/api/user/profile/\".concat(userName,\"/\")).then(function(res){dispatch({type:GET_USER_PROFILE,payload:res.data});}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getCurrentUserProfile=function getCurrentUserProfile(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.get(\"http://localhost:8000/api/user/me/\").then(function(res){dispatch({type:GET_CURRENT_USER_PROFILE,payload:res.data});}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response});dispatch({type:SET_CURRENT_USER,payload:null});});});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var vote=function vote(id,postData){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.post(\"http://localhost:8000/api/user/vote/\".concat(id,\"/\"),postData).then(function(res){console.log(res);}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","GET_ERRORS","GET_USER_PROFILE","GET_CURRENT_USER_PROFILE","SET_CURRENT_USER","setToken","refreshToken","getUserProfile","userName","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","wrap","_callee$","_context","prev","next","then","ref","data","access","get","concat","res","type","payload","catch","error","response","stop","_x","apply","arguments","getCurrentUserProfile","_ref2","_callee2","_callee2$","_context2","_x2","vote","id","postData","_ref3","_callee3","_callee3$","_context3","post","console","log","_x3"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  GET_ERRORS,\n  GET_USER_PROFILE,\n  GET_CURRENT_USER_PROFILE,\n  SET_CURRENT_USER,\n} from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\n\nexport const getUserProfile = (userName) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/user/profile/${userName}/`)\n      .then((res) => {\n        dispatch({\n          type: GET_USER_PROFILE,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const getCurrentUserProfile = () => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/user/me/`)\n      .then((res) => {\n        dispatch({\n          type: GET_CURRENT_USER_PROFILE,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response,\n        });\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: null,\n        });\n      });\n  });\n};\n\nexport const vote = (id, postData) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .post(`http://localhost:8000/api/user/vote/${id}/`, postData)\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}