{"ast":null,"code":"import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Card,Col,Container,Row}from\"react-bootstrap\";import CreatePost from\"../Event/create-event\";import Pagination from\"../../layouts/pagination\";import{useSearchParams,useLocation}from\"react-router-dom\";import{SearchParam}from\"../Utilities/search-param\";import EventItemCard from\"../Event/event-item-card\";import CurrentUserProfile from\"../Profile/current-user-profile\";import{EventHandler}from\"../Event/utilities/action-handlers\";import SuggestItem from\"../Suggestions/suggest-item\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MainDash(){//pagination and event api\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,1),postPerPage=_useState4[0];// eslint-disable-next-line no-unused-vars\nvar _useSearchParams=useSearchParams({}),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var _useLocation=useLocation(),state=_useLocation.state;var pageId=SearchParam();var eventData=EventHandler(pageId);useEffect(function(){if(state){var id=state.id;setCurrentPage(id);}},[state]);useEffect(function(){setSearchParams({page:currentPage});},[setSearchParams,currentPage]);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};//suggestions\nvar _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),suggestedData=_useState6[0],setSuggestedData=_useState6[1];var child_data=function child_data(data){if(data){setSuggestedData(data);}};return/*#__PURE__*/_jsx(\"div\",{style:{position:\"relative\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dash-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar_left\",children:/*#__PURE__*/_jsx(SuggestItem,{userData:child_data})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CreatePost,{suggestion:suggestedData}),/*#__PURE__*/_jsx(Row,{xs:1,sm:1,md:1,children:eventData.results?eventData.results.map(function(event,index){return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(EventItemCard,{eventData:event})},index);}):\"\"})]}),eventData.count>10?/*#__PURE__*/_jsx(Pagination,{postsPerPage:postPerPage,totalPosts:eventData.count,paginate:paginate,currentPage:currentPage}):\"\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-wrapper \",children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar_right\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(CurrentUserProfile,{})})})})})})]})});}export default MainDash;","map":{"version":3,"names":["React","useState","useEffect","Card","Col","Container","Row","CreatePost","Pagination","useSearchParams","useLocation","SearchParam","EventItemCard","CurrentUserProfile","EventHandler","SuggestItem","jsx","_jsx","jsxs","_jsxs","MainDash","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","postPerPage","_useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useLocation","state","pageId","eventData","id","page","paginate","pageNumber","_useState5","_useState6","suggestedData","setSuggestedData","child_data","data","style","position","children","className","userData","suggestion","xs","sm","md","results","map","event","index","count","postsPerPage","totalPosts","Body"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Dashboards/main-dash.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Card, Col, Container, Row } from \"react-bootstrap\";\nimport CreatePost from \"../Event/create-event\";\nimport Pagination from \"../../layouts/pagination\";\nimport { useSearchParams, useLocation } from \"react-router-dom\";\nimport { SearchParam } from \"../Utilities/search-param\";\nimport EventItemCard from \"../Event/event-item-card\";\nimport CurrentUserProfile from \"../Profile/current-user-profile\";\nimport { EventHandler } from \"../Event/utilities/action-handlers\";\nimport SuggestItem from \"../Suggestions/suggest-item\";\n\nfunction MainDash() {\n  //pagination and event api\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postPerPage] = useState(10);\n  // eslint-disable-next-line no-unused-vars\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const { state } = useLocation();\n\n  let pageId = SearchParam();\n  const eventData = EventHandler(pageId);\n\n  useEffect(() => {\n    if (state) {\n      const { id } = state;\n      setCurrentPage(id);\n    }\n  }, [state]);\n\n  useEffect(() => {\n    setSearchParams({ page: currentPage });\n  }, [setSearchParams, currentPage]);\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  //suggestions\n  const [suggestedData, setSuggestedData] = useState({});\n\n  const child_data = (data) => {\n    if (data) {\n      setSuggestedData(data);\n    }\n  };\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <div className=\"dash-container\">\n        <div className=\"sidebar\">\n          <div className=\"sidebar-wrapper\">\n            <div className=\"sidebar_left\">\n              <SuggestItem userData={child_data} />\n            </div>\n          </div>\n        </div>\n        <div className=\"content\">\n          <Container>\n            <div>\n              <CreatePost suggestion={suggestedData} />\n              <Row xs={1} sm={1} md={1}>\n                {eventData.results\n                  ? eventData.results.map((event, index) => (\n                      <Col key={index}>\n                        <EventItemCard eventData={event} />\n                      </Col>\n                    ))\n                  : \"\"}\n              </Row>\n            </div>\n            {eventData.count > 10 ? (\n              <Pagination\n                postsPerPage={postPerPage}\n                totalPosts={eventData.count}\n                paginate={paginate}\n                currentPage={currentPage}\n              />\n            ) : (\n              \"\"\n            )}\n          </Container>\n        </div>\n\n        <div className=\"sidebar\">\n          <div className=\"sidebar-wrapper \">\n            <div className=\"sidebar_right\">\n              <Card>\n                <Card.Body>\n                  <CurrentUserProfile />\n                </Card.Body>\n              </Card>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MainDash;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}