{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{Form,Row,Col,InputGroup,Button}from\"react-bootstrap\";import{useDispatch}from\"react-redux\";import{login}from\"../../actions/securityActions\";import{Link,useNavigate}from\"react-router-dom\";import{useLocation}from\"react-router-dom\";import{FormButton}from\"./utilities/auth-builder\";import{Eye,EyeSlash}from\"../../layouts/icons\";import{ResponseContext}from\"../Context/response-context\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),load=_useState6[0],setLoad=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),signupData=_useState8[0],setSignupData=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),formSwitch=_useState10[0],setFormSwitch=_useState10[1];var _useState11=useState(\"password\"),_useState12=_slicedToArray(_useState11,2),inputType=_useState12[0],setInputType=_useState12[1];var _useLocation=useLocation(),state=_useLocation.state;var _useContext=useContext(ResponseContext),response=_useContext.response,status=_useContext.status;useEffect(function(){if(state){var id=state.id;setSignupData(id.data.username);setUsername(id.data.username);}},[state]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var LoginRequest;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();LoginRequest={username:username,password:password};dispatch(login(LoginRequest,navigate,setLoad));case 3:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleInputType=function handleInputType(){inputType===\"password\"?setInputType(\"text\"):setInputType(\"password\");};useEffect(function(){setFormSwitch(load);},[load]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"fieldset\",{disabled:formSwitch,children:/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"subTitle\",children:signupData!==\"\"?/*#__PURE__*/_jsxs(\"span\",{children:[\"welcome\",\" \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#5865f2\"},children:[signupData,\"!\"]})]}):/*#__PURE__*/_jsx(\"span\",{children:\"Sign in\"})})}),/*#__PURE__*/_jsx(Form.Label,{className:\"text-muted visually-hidden\",children:\"Username\"}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"username\",placeholder:\"Username\",value:Object.keys(username).length!==0?username:\"\",onChange:function onChange(e){return setUsername(e.target.value);},required:true})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"text-muted visually-hidden\",children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Control,{type:inputType,placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(Button,{className:\"fst-italic show_hide-pw\",name:\"login\",onClick:function onClick(){handleInputType();},children:inputType===\"password\"?/*#__PURE__*/_jsx(Eye,{}):/*#__PURE__*/_jsx(EyeSlash,{})})]})]}),status!==200?/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:response}):\"\",/*#__PURE__*/_jsx(FormButton,{load:load,name:\"Login\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"divider\"}),/*#__PURE__*/_jsx(Row,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Col,{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/reset-password-auth\",children:\"Forgot Password?\"})})})]})})});}export default Login;","map":{"version":3,"names":["React","useContext","useEffect","useState","Form","Row","Col","InputGroup","Button","useDispatch","login","Link","useNavigate","useLocation","FormButton","Eye","EyeSlash","ResponseContext","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Login","navigate","dispatch","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","load","setLoad","_useState7","_useState8","signupData","setSignupData","_useState9","_useState10","formSwitch","setFormSwitch","_useState11","_useState12","inputType","setInputType","_useLocation","state","_useContext","response","status","id","data","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","LoginRequest","wrap","_callee$","_context","prev","next","preventDefault","stop","_x","apply","arguments","handleInputType","children","disabled","onSubmit","className","style","color","Label","Group","controlId","Control","type","placeholder","value","Object","keys","length","onChange","target","required","name","onClick","to"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/UserAuth/log-in.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Form, Row, Col, InputGroup, Button } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { login } from \"../../actions/securityActions\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { FormButton } from \"./utilities/auth-builder\";\nimport { Eye, EyeSlash } from \"../../layouts/icons\";\nimport { ResponseContext } from \"../Context/response-context\";\n\nfunction Login() {\n  let navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [username, setUsername] = useState({});\n  const [password, setPassword] = useState({});\n  const [load, setLoad] = useState(false);\n  const [signupData, setSignupData] = useState(\"\");\n  const [formSwitch, setFormSwitch] = useState(false);\n  const [inputType, setInputType] = useState(\"password\");\n\n  const { state } = useLocation();\n\n  const { response, status } = useContext(ResponseContext);\n\n  useEffect(() => {\n    if (state) {\n      const { id } = state;\n      setSignupData(id.data.username);\n      setUsername(id.data.username);\n    }\n  }, [state]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const LoginRequest = {\n      username: username,\n      password: password,\n    };\n    dispatch(login(LoginRequest, navigate, setLoad));\n  };\n\n  const handleInputType = () => {\n    inputType === \"password\" ? setInputType(\"text\") : setInputType(\"password\");\n  };\n\n  useEffect(() => {\n    setFormSwitch(load);\n  }, [load]);\n\n  return (\n    <>\n      {/* <ErrorToast showToast={show} variant={MsgToast().errorVariant} /> */}\n      <fieldset disabled={formSwitch}>\n        <Form\n          onSubmit={(e) => {\n            handleSubmit(e);\n          }}\n        >\n          <span className=\"mb-4\">\n            <h4 className=\"subTitle\">\n              {signupData !== \"\" ? (\n                <span>\n                  welcome{\" \"}\n                  <span style={{ color: \"#5865f2\" }}>{signupData}!</span>\n                </span>\n              ) : (\n                <span>Sign in</span>\n              )}\n            </h4>\n          </span>\n\n          <Form.Label className=\"text-muted visually-hidden\">\n            Username\n          </Form.Label>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Control\n              type=\"username\"\n              placeholder=\"Username\"\n              value={Object.keys(username).length !== 0 ? username : \"\"}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label className=\"text-muted visually-hidden\">\n              Password\n            </Form.Label>\n            <InputGroup className=\"mb-3\">\n              <Form.Control\n                type={inputType}\n                placeholder=\"Password\"\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n              <Button\n                className=\"fst-italic show_hide-pw\"\n                name=\"login\"\n                onClick={() => {\n                  handleInputType();\n                }}\n              >\n                {inputType === \"password\" ? <Eye /> : <EyeSlash />}\n              </Button>\n            </InputGroup>\n          </Form.Group>\n          {status !== 200 ? (\n            <small className=\"text-danger\">{response}</small>\n          ) : (\n            \"\"\n          )}\n          <FormButton load={load} name=\"Login\" />\n          <hr className=\"divider\" />\n          <Row className=\"mt-3\">\n            <Col className=\"text-center\">\n              <Link to=\"/reset-password-auth\">Forgot Password?</Link>\n            </Col>\n          </Row>\n        </Form>\n      </fieldset>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}