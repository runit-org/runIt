{"ast":null,"code":"var _jsxFileName = \"/Users/Manan/Desktop/runIt/frontend/src/components/Comments/comment-item.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Button, ButtonGroup, Card, Dropdown } from \"react-bootstrap\";\nimport { Mention } from \"../Utilities/mention\";\nimport { commentOptions } from \"./utilities/comment-options\";\nimport UpdateComment from \"./update-comment\";\nimport { getAllComments, likeUnlike } from \"../../actions/commentActions\";\nimport { SearchParam } from \"../Utilities/search-param\";\nimport PopoverItem from \"../Profile/popover-item\";\nimport { CommentReacts } from \"./utilities/comment-builder\";\nimport { SingleEventContext } from \"../Dashboards/event-dash\";\nimport { SecurityContext } from \"../Context/security-context\";\nimport { Ellipse } from \"../SiteElements/icons\";\nimport { emitter } from \"../client/socket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CommentItem(props) {\n  _s();\n  const dispatch = useDispatch();\n  const [editorMode, setEditorMode] = useState(false);\n  const eventData = useContext(SingleEventContext);\n  const currentUser = useContext(SecurityContext);\n  let pageId = SearchParam();\n  function handleClick() {\n    setEditorMode(!editorMode);\n  }\n  const commentReact = () => {\n    dispatch(likeUnlike(props.commentData.id)).then(() => {\n      dispatch(getAllComments(eventData.id, pageId));\n      emitter([props.commentData.username]);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !editorMode ? /*#__PURE__*/_jsxDEV(Card, {\n      className: \"event-card\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: props.commentData.gravatarImage,\n            className: \"userProf-img me-3\",\n            alt: \"Img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"me-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"m-0\",\n              children: [\" \", props.commentData.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              style: {\n                fontSize: \"12px\",\n                display: \"block\",\n                fontWeight: 700\n              },\n              children: [/*#__PURE__*/_jsxDEV(PopoverItem, {\n                data: props.commentData.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this), props.commentData.humanTimeDiffCreatedAt, \" ago\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), currentUser === props.commentData.user ? /*#__PURE__*/_jsxDEV(Dropdown, {\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n              variant: \"light\",\n              size: \"sm\",\n              id: \"dropdown-basic\",\n              children: /*#__PURE__*/_jsxDEV(Ellipse, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n              children: commentOptions(props.commentData.id, eventData.id, props.commentCount, handleClick).options_owner.map((i, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-1\",\n                  children: i.item\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n          className: \"details_textarea content_sm1\",\n          dangerouslySetInnerHTML: {\n            __html: props.commentData.content ? Mention(props.commentData.content) : props.commentData.content\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          \"aria-label\": \"Basic example\",\n          className: \"mt-3 w-100 gap-2\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            className: \"postBtn-placements cta_button\",\n            onClick: () => {\n              commentReact();\n            },\n            children: /*#__PURE__*/_jsxDEV(CommentReacts, {\n              commentData: props.commentData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(UpdateComment, {\n      eventId: eventData.id,\n      commentId: props.commentData.id,\n      content: props.commentData.content,\n      cardStyle: currentUser === eventData.user ? \"editor-card\" : \"\",\n      handleUpate: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(CommentItem, \"O56/Z6JatGRkNvZihlfrMBtET+U=\", false, function () {\n  return [useDispatch];\n});\n_c = CommentItem;\nexport default CommentItem;\nvar _c;\n$RefreshReg$(_c, \"CommentItem\");","map":{"version":3,"names":["React","useState","useContext","useDispatch","Button","ButtonGroup","Card","Dropdown","Mention","commentOptions","UpdateComment","getAllComments","likeUnlike","SearchParam","PopoverItem","CommentReacts","SingleEventContext","SecurityContext","Ellipse","emitter","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentItem","props","_s","dispatch","editorMode","setEditorMode","eventData","currentUser","pageId","handleClick","commentReact","commentData","id","then","username","children","className","Header","src","gravatarImage","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","fontSize","display","fontWeight","data","humanTimeDiffCreatedAt","user","Toggle","variant","size","Menu","commentCount","options_owner","map","i","index","item","Body","Text","dangerouslySetInnerHTML","__html","content","onClick","eventId","commentId","cardStyle","handleUpate","_c","$RefreshReg$"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Comments/comment-item.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Button, ButtonGroup, Card, Dropdown } from \"react-bootstrap\";\nimport { Mention } from \"../Utilities/mention\";\nimport { commentOptions } from \"./utilities/comment-options\";\nimport UpdateComment from \"./update-comment\";\nimport { getAllComments, likeUnlike } from \"../../actions/commentActions\";\nimport { SearchParam } from \"../Utilities/search-param\";\nimport PopoverItem from \"../Profile/popover-item\";\nimport { CommentReacts } from \"./utilities/comment-builder\";\nimport { SingleEventContext } from \"../Dashboards/event-dash\";\nimport { SecurityContext } from \"../Context/security-context\";\nimport { Ellipse } from \"../SiteElements/icons\";\nimport { emitter } from \"../client/socket\";\n\nfunction CommentItem(props) {\n  const dispatch = useDispatch();\n\n  const [editorMode, setEditorMode] = useState(false);\n  const eventData = useContext(SingleEventContext);\n  const currentUser = useContext(SecurityContext);\n\n  let pageId = SearchParam();\n\n  function handleClick() {\n    setEditorMode(!editorMode);\n  }\n\n  const commentReact = () => {\n    dispatch(likeUnlike(props.commentData.id)).then(() => {\n      dispatch(getAllComments(eventData.id, pageId));\n      emitter([props.commentData.username]);\n    });\n  };\n\n  return (\n    <>\n      {!editorMode ? (\n        <Card className=\"event-card\">\n          <Card.Header>\n            <div className=\"d-flex\">\n              <img\n                src={props.commentData.gravatarImage}\n                className=\"userProf-img me-3\"\n                alt=\"Img\"\n              />\n\n              <div className=\"me-auto\">\n                <h6 className=\"m-0\"> {props.commentData.username}</h6>\n\n                <small\n                  className=\"text-muted\"\n                  style={{\n                    fontSize: \"12px\",\n                    display: \"block\",\n                    fontWeight: 700,\n                  }}\n                >\n                  <PopoverItem data={props.commentData.username} />\n                  {props.commentData.humanTimeDiffCreatedAt} ago\n                </small>\n              </div>\n\n              {currentUser === props.commentData.user ? (\n                <Dropdown>\n                  <Dropdown.Toggle\n                    variant=\"light\"\n                    size=\"sm\"\n                    id=\"dropdown-basic\"\n                  >\n                    <Ellipse />\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    {commentOptions(\n                      props.commentData.id,\n                      eventData.id,\n                      props.commentCount,\n                      handleClick\n                    ).options_owner.map((i, index) => {\n                      return (\n                        <div key={index} className=\"p-1\">\n                          {i.item}\n                        </div>\n                      );\n                    })}\n                  </Dropdown.Menu>\n                </Dropdown>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </Card.Header>\n          <Card.Body>\n            <Card.Text\n              className=\"details_textarea content_sm1\"\n              dangerouslySetInnerHTML={{\n                __html: props.commentData.content\n                  ? Mention(props.commentData.content)\n                  : props.commentData.content,\n              }}\n            />\n\n            <ButtonGroup\n              aria-label=\"Basic example\"\n              className=\"mt-3 w-100 gap-2\"\n            >\n              <Button\n                variant=\"light\"\n                className=\"postBtn-placements cta_button\"\n                onClick={() => {\n                  commentReact();\n                }}\n              >\n                <CommentReacts commentData={props.commentData} />\n              </Button>\n            </ButtonGroup>\n          </Card.Body>\n        </Card>\n      ) : (\n        <UpdateComment\n          eventId={eventData.id}\n          commentId={props.commentData.id}\n          content={props.commentData.content}\n          cardStyle={currentUser === eventData.user ? \"editor-card\" : \"\"}\n          handleUpate={handleClick}\n        />\n      )}\n    </>\n  );\n}\n\nexport default CommentItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}