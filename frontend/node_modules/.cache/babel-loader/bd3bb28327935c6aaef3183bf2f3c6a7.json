{"ast":null,"code":"import axios from \"axios\";\nimport { isExpired } from \"react-jwt\";\n\nconst setToken = token => {\n  // const isMyTokenExpired = isExpired(token);\n  if (token) {\n    const refToken = {\n      refresh: localStorage.token\n    };\n    const res = axios.post(\"http://localhost:8000/api/auth/token/refresh/\", refToken);\n    axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + res.data.access;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setToken;","map":{"version":3,"sources":["/Users/mananlodhia/Desktop/Projects/EventMatcher/frontend/frontend/src/securityUtils/setToken.js"],"names":["axios","isExpired","setToken","token","refToken","refresh","localStorage","res","post","defaults","headers","common","data","access"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,WAA1B;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B;AAEA,MAAIA,KAAJ,EAAY;AACV,UAAMC,QAAQ,GAAG;AACfC,MAAAA,OAAO,EAAEC,YAAY,CAACH;AADP,KAAjB;AAGA,UAAMI,GAAG,GAAIP,KAAK,CAACQ,IAAN,CACX,+CADW,EAEXJ,QAFW,CAAb;AAKAJ,IAAAA,KAAK,CAACS,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IACE,YAAYJ,GAAG,CAACK,IAAJ,CAASC,MADvB;AAED,GAXD,MAWO;AACL,WAAOb,KAAK,CAACS,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACD;AACF,CAjBD;;AAmBA,eAAeT,QAAf","sourcesContent":["import axios from \"axios\";\nimport { isExpired } from \"react-jwt\";\n\nconst setToken = (token) => {\n  // const isMyTokenExpired = isExpired(token);\n\n  if (token ) {\n    const refToken = {\n      refresh: localStorage.token,\n    };\n    const res =  axios.post(\n      \"http://localhost:8000/api/auth/token/refresh/\",\n      refToken\n    );\n      \n    axios.defaults.headers.common[\"Authorization\"] =\n      \"Bearer \" + res.data.access;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setToken;\n"]},"metadata":{},"sourceType":"module"}