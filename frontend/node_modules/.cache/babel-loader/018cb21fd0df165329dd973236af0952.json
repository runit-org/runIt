{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ALL_EVENTS, GET_ERRORS, GET_EVENT_MEMBERS } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\nconst client = axios.create({\n  baseURL: \"http://localhost:8000/api/event\"\n});\nexport const getAllEvents = () => async dispatch => {\n  const ref = await refreshToken().then(ref => {\n    //console.log(ref.data.access);\n    setToken(ref.data.access);\n    const res = client.get(`/all/`).then(res => {\n      dispatch({\n        type: GET_ALL_EVENTS,\n        payload: res.data\n      });\n    });\n  });\n};\nexport const createNewEvent = (postData, setLoad, setError) => async dispatch => {\n  const ref = await refreshToken().then(ref => {\n    //console.log(ref.data.access);\n    setToken(ref.data.access);\n    setLoad(true);\n    const res = client.post(\"/create/\", postData).then(res => {\n      //console.log(res);\n      if (res.data.success == \"true\") {\n        setLoad(false);\n        setError(res.data.message);\n        window.location.reload();\n      }\n\n      dispatch({\n        type: GET_ERRORS,\n        payload: res.data\n      });\n    }).catch(error => {\n      setLoad(false);\n      setError(error.response.data.message);\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};\nexport const requestToJoin = (postData, setLoad, setError) => async dispatch => {\n  const ref = await refreshToken().then(ref => {\n    console.log(ref.data.access);\n    setToken(ref.data.access);\n    setLoad(true);\n    const res = client.post(\"/member/requestJoin/\", postData).then(res => {\n      console.log(res);\n\n      if (res.data.success == \"true\") {\n        setLoad(false);\n        setError(res.data.message);\n        window.location.reload();\n      }\n\n      dispatch({\n        type: GET_ERRORS,\n        payload: res.data\n      });\n    }).catch(error => {\n      setLoad(false);\n      console.log(error.response.data.message);\n      setError(error.response.data.message);\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};\nexport const getEventMembers = id => async dispatch => {\n  const ref = await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    console.log(ref.data.access);\n    const res = axios.get(`http://localhost:8000/api/event/member/getMembers/${id}/`).then(res => {\n      console.log(res.data.message);\n      dispatch({\n        type: GET_EVENT_MEMBERS,\n        payload: res.data\n      });\n    });\n  });\n};","map":{"version":3,"sources":["/Users/mananlodhia/Desktop/Projects/EventMatcher/frontend/src/actions/eventActions.js"],"names":["axios","GET_ALL_EVENTS","GET_ERRORS","GET_EVENT_MEMBERS","setToken","refreshToken","client","create","baseURL","getAllEvents","dispatch","ref","then","data","access","res","get","type","payload","createNewEvent","postData","setLoad","setError","post","success","message","window","location","reload","catch","error","response","requestToJoin","console","log","getEventMembers","id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { GET_ALL_EVENTS, GET_ERRORS, GET_EVENT_MEMBERS } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\n\nconst client = axios.create({\n  baseURL: \"http://localhost:8000/api/event\",\n});\n\nexport const getAllEvents = () => async (dispatch) => {\n  const ref = await refreshToken().then((ref) => {\n    //console.log(ref.data.access);\n    setToken(ref.data.access);\n    const res = client\n      .get(`/all/`)\n      .then((res) => {\n        dispatch({\n          type: GET_ALL_EVENTS,\n          payload: res.data,\n        });\n      });\n  });\n};\n\nexport const createNewEvent =\n  (postData, setLoad, setError) => async (dispatch) => {\n    const ref = await refreshToken().then((ref) => {\n      //console.log(ref.data.access);\n      setToken(ref.data.access);\n\n      setLoad(true);\n      const res = client\n        .post(\"/create/\", postData)\n        .then((res) => {\n          //console.log(res);\n          if (res.data.success == \"true\") {\n            setLoad(false);\n            setError(res.data.message);\n            window.location.reload();\n          }\n          dispatch({\n            type: GET_ERRORS,\n            payload: res.data,\n          });\n        })\n        .catch((error) => {\n          setLoad(false);\n\n          setError(error.response.data.message);\n          dispatch({\n            type: GET_ERRORS,\n            payload: error.response.data,\n          });\n        });\n    });\n  };\n\nexport const requestToJoin =\n  (postData, setLoad, setError) => async (dispatch) => {\n    const ref = await refreshToken().then((ref) => {\n      console.log(ref.data.access);\n      setToken(ref.data.access);\n\n      setLoad(true);\n      const res = client\n        .post(\"/member/requestJoin/\", postData)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success == \"true\") {\n            setLoad(false);\n            setError(res.data.message);\n            window.location.reload();\n          }\n          dispatch({\n            type: GET_ERRORS,\n            payload: res.data,\n          });\n        })\n        .catch((error) => {\n          setLoad(false);\n          console.log(error.response.data.message);\n          setError(error.response.data.message);\n          dispatch({\n            type: GET_ERRORS,\n            payload: error.response.data,\n          });\n        });\n    });\n  };\n\n  export const getEventMembers = (id) => async (dispatch) => {\n    const ref = await refreshToken().then((ref) => {\n      setToken(ref.data.access);\n      console.log(ref.data.access)\n      const res = axios\n        .get(`http://localhost:8000/api/event/member/getMembers/${id}/`)\n        .then((res) => {\n          console.log(res.data.message)\n          dispatch({\n            type: GET_EVENT_MEMBERS,\n            payload: res.data,\n          });\n        });\n    });\n  };\n"]},"metadata":{},"sourceType":"module"}