{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{GET_ALL_COMMENTS,GET_ERRORS}from\"./types\";import{setToken,refreshToken}from\"../securityUtils/setToken\";export var createComment=function createComment(id,postData,setLoad,setError){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);setLoad(true);axios.post(\"http://localhost:8000/api/event/comment/create/\".concat(id,\"/\"),postData).then(function(res){if(res.status===200){setLoad(false);setError(res.status);}dispatch({type:GET_ERRORS,payload:res.data});}).catch(function(error){setLoad(false);setError(error.response.data.message);dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var removeComment=function removeComment(id,setLoad,setError){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);setLoad(true);axios.delete(\"http://localhost:8000/api/event/comment/delete/\".concat(id,\"/\")).then(function(res){if(res.status===200){setLoad(false);setError(res.data.message);}dispatch({type:GET_ERRORS,payload:res.data});}).catch(function(error){setLoad(false);setError(error.response.data.message);dispatch({type:GET_ERRORS,payload:error.response});});});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateComment=function updateComment(id,postData){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.put(\"http://localhost:8000/api/event/comment/update/\".concat(id,\"/\"),postData).then(function(res){dispatch({type:GET_ERRORS,payload:res.data});}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getAllComments=function getAllComments(id,page){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.get(\"http://localhost:8000/api/event/comment/show/\".concat(id,\"/?page=\").concat(page)).then(function(res){dispatch({type:GET_ALL_COMMENTS,payload:res.data});}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var likeUnlike=function likeUnlike(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.post(\"http://localhost:8000/api/event/comment/likeUnlike/\".concat(id,\"/\")).then(function(res){// console.log(res);\n}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context5.stop();}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","GET_ALL_COMMENTS","GET_ERRORS","setToken","refreshToken","createComment","id","postData","setLoad","setError","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","wrap","_callee$","_context","prev","next","then","ref","data","access","post","concat","res","status","type","payload","catch","error","response","message","stop","_x","apply","arguments","removeComment","_ref2","_callee2","_callee2$","_context2","delete","_x2","updateComment","_ref3","_callee3","_callee3$","_context3","put","_x3","getAllComments","page","_ref4","_callee4","_callee4$","_context4","get","_x4","likeUnlike","_ref5","_callee5","_callee5$","_context5","_x5"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/actions/commentActions.js"],"sourcesContent":["import axios from \"axios\";\nimport { GET_ALL_COMMENTS, GET_ERRORS } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\n\nexport const createComment =\n  (id, postData, setLoad, setError) => async (dispatch) => {\n    await refreshToken().then((ref) => {\n      setToken(ref.data.access);\n\n      setLoad(true);\n      axios\n        .post(`http://localhost:8000/api/event/comment/create/${id}/`, postData)\n        .then((res) => {\n          if (res.status === 200) {\n            setLoad(false);\n            setError(res.status);\n          }\n          dispatch({\n            type: GET_ERRORS,\n            payload: res.data,\n          });\n        })\n        .catch((error) => {\n          setLoad(false);\n          setError(error.response.data.message);\n          dispatch({\n            type: GET_ERRORS,\n            payload: error.response.data,\n          });\n        });\n    });\n  };\n\nexport const removeComment = (id, setLoad, setError) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n\n    setLoad(true);\n    axios\n      .delete(`http://localhost:8000/api/event/comment/delete/${id}/`)\n      .then((res) => {\n        if (res.status === 200) {\n          setLoad(false);\n          setError(res.data.message);\n        }\n        dispatch({\n          type: GET_ERRORS,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        setLoad(false);\n        setError(error.response.data.message);\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response,\n        });\n      });\n  });\n};\n\nexport const updateComment = (id, postData) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n\n    axios\n      .put(`http://localhost:8000/api/event/comment/update/${id}/`, postData)\n      .then((res) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const getAllComments = (id, page) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/event/comment/show/${id}/?page=${page}`)\n      .then((res) => {\n        dispatch({\n          type: GET_ALL_COMMENTS,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const likeUnlike = (id) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .post(`http://localhost:8000/api/event/comment/likeUnlike/${id}/`)\n      .then((res) => {\n        // console.log(res);\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}