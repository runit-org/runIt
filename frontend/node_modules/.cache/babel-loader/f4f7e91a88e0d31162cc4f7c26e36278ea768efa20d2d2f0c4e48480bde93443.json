{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{GET_ERRORS,GET_ALL_NOTIFS}from\"./types\";import{setToken,refreshToken}from\"../securityUtils/setToken\";export var getNotifications=function getNotifications(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.get(\"http://localhost:8000/api/notifications/all/\").then(function(res){dispatch({type:GET_ALL_NOTIFS,payload:res.data});}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var notificationRead=function notificationRead(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.patch(\"http://localhost:8000/api/notifications/read/\".concat(id,\"/\")).then(function(res){dispatch(getNotifications());}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var notificationRead_all=function notificationRead_all(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return refreshToken().then(function(ref){setToken(ref.data.access);axios.patch(\"http://localhost:8000/api/notifications/readAll/\").then(function(res){dispatch(getNotifications());}).catch(function(error){dispatch({type:GET_ERRORS,payload:error.response.data});});});case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","GET_ERRORS","GET_ALL_NOTIFS","setToken","refreshToken","getNotifications","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","wrap","_callee$","_context","prev","next","then","ref","data","access","get","res","type","payload","catch","error","response","stop","_x","apply","arguments","notificationRead","id","_ref2","_callee2","_callee2$","_context2","patch","concat","_x2","notificationRead_all","_ref3","_callee3","_callee3$","_context3","_x3"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/actions/notificationActions.js"],"sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS, GET_ALL_NOTIFS } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\n\nexport const getNotifications = () => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/notifications/all/`)\n      .then((res) => {\n        dispatch({\n          type: GET_ALL_NOTIFS,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const notificationRead = (id) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .patch(`http://localhost:8000/api/notifications/read/${id}/`)\n      .then((res) => {\n        dispatch(getNotifications());\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const notificationRead_all = () => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .patch(`http://localhost:8000/api/notifications/readAll/`)\n      .then((res) => {\n        dispatch(getNotifications());\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}