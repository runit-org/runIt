{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, GET_ALL_NOTIFS } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\nexport const getNotifications = () => async dispatch => {\n  await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    axios.get(`http://localhost:8000/api/notifications/all/`).then(res => {\n      dispatch({\n        type: GET_ALL_NOTIFS,\n        payload: res.data\n      });\n    }).catch(error => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};\nexport const notificationRead = id => async dispatch => {\n  await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    axios.patch(`http://localhost:8000/api/notifications/read/${id}/`).then(res => {\n      dispatch(getNotifications());\n    }).catch(error => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};\nexport const notificationRead_all = () => async dispatch => {\n  await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    axios.patch(`http://localhost:8000/api/notifications/readAll/`).then(res => {\n      dispatch(getNotifications());\n    }).catch(error => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};","map":{"version":3,"names":["axios","GET_ERRORS","GET_ALL_NOTIFS","setToken","refreshToken","getNotifications","dispatch","then","ref","data","access","get","res","type","payload","catch","error","response","notificationRead","id","patch","notificationRead_all"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/actions/notificationActions.js"],"sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS, GET_ALL_NOTIFS } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\n\nexport const getNotifications = () => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/notifications/all/`)\n      .then((res) => {\n        dispatch({\n          type: GET_ALL_NOTIFS,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const notificationRead = (id) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .patch(`http://localhost:8000/api/notifications/read/${id}/`)\n      .then((res) => {\n        dispatch(getNotifications());\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const notificationRead_all = () => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .patch(`http://localhost:8000/api/notifications/readAll/`)\n      .then((res) => {\n        dispatch(getNotifications());\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,EAAEC,cAAc,QAAQ,SAAS;AACpD,SAASC,QAAQ,EAAEC,YAAY,QAAQ,2BAA2B;AAElE,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EACxD,MAAMF,YAAY,CAAC,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;IACjCL,QAAQ,CAACK,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC;IACzBV,KAAK,CACFW,GAAG,CAAE,8CAA6C,CAAC,CACnDJ,IAAI,CAAEK,GAAG,IAAK;MACbN,QAAQ,CAAC;QACPO,IAAI,EAAEX,cAAc;QACpBY,OAAO,EAAEF,GAAG,CAACH;MACf,CAAC,CAAC;IACJ,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,IAAK;MAChBV,QAAQ,CAAC;QACPO,IAAI,EAAEZ,UAAU;QAChBa,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACR;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMS,gBAAgB,GAAIC,EAAE,IAAK,MAAOb,QAAQ,IAAK;EAC1D,MAAMF,YAAY,CAAC,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;IACjCL,QAAQ,CAACK,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC;IACzBV,KAAK,CACFoB,KAAK,CAAE,gDAA+CD,EAAG,GAAE,CAAC,CAC5DZ,IAAI,CAAEK,GAAG,IAAK;MACbN,QAAQ,CAACD,gBAAgB,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CACDU,KAAK,CAAEC,KAAK,IAAK;MAChBV,QAAQ,CAAC;QACPO,IAAI,EAAEZ,UAAU;QAChBa,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACR;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMY,oBAAoB,GAAGA,CAAA,KAAM,MAAOf,QAAQ,IAAK;EAC5D,MAAMF,YAAY,CAAC,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;IACjCL,QAAQ,CAACK,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC;IACzBV,KAAK,CACFoB,KAAK,CAAE,kDAAiD,CAAC,CACzDb,IAAI,CAAEK,GAAG,IAAK;MACbN,QAAQ,CAACD,gBAAgB,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CACDU,KAAK,CAAEC,KAAK,IAAK;MAChBV,QAAQ,CAAC;QACPO,IAAI,EAAEZ,UAAU;QAChBa,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACR;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}