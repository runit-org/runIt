{"ast":null,"code":"var _jsxFileName = \"/Users/Manan/Desktop/runIt/frontend/src/components/Event/manage-members.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { Button, ButtonGroup, Card } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { memberStatus } from \"../../actions/eventActions\";\nimport { Loading } from \"../../layouts/loader\";\nimport { Link } from \"react-router-dom\";\nimport { emitter } from \"../client/socket\";\nimport { EventMembersHandler } from \"./utilities/action-handlers\";\nimport { Pending } from \"./utilities/event-builder\";\nimport { SingleEventContext } from \"../Dashboards/event-dash\";\nimport { Cross, Tick } from \"../../layouts/icons\";\nimport { DisplayImage } from \"../../layouts/user-displayimg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ManageMembers(props) {\n  _s();\n  const dispatch = useDispatch();\n  const eventData = useContext(SingleEventContext);\n  const [load, setLoad] = useState(false);\n  const eventMembers = EventMembersHandler(eventData.id);\n  const pendingMembers = Pending(eventMembers, props.currentUser);\n  const manageUser = async (status, memberId) => {\n    const postData = {\n      eventId: eventData.id,\n      userId: memberId,\n      status: status\n    };\n    dispatch(memberStatus(postData, setLoad)).then(() => {\n      emitter(pendingMembers.map(member => member.username));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"event-card\",\n    children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n      children: \"New requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: pendingMembers.length > 0 ? pendingMembers.map(member => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex userInfo-div  justify-content-between\",\n          style: {\n            padding: \" 20px 10px 10px 20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(DisplayImage, {\n              image: member.gravatarImage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ms-4\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: \"/profile\",\n                  search: `user=${member.username}`\n                },\n                children: [\"@\", member.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"d-block text-muted\",\n                children: member.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              \"aria-label\": \"Basic example\",\n              className: \"w-100 gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"light\",\n                className: \"postBtn-placements cta_button\",\n                onClick: () => manageUser(1, member.userId),\n                children: (() => {\n                  if (load) {\n                    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 36\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-flex align-items-center\",\n                      children: /*#__PURE__*/_jsxDEV(Tick, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 81,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 31\n                    }, this);\n                  }\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"light\",\n                className: \"postBtn-placements cta_button\",\n                onClick: () => manageUser(2, member.userId),\n                children: (() => {\n                  if (load) {\n                    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 36\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-flex align-items-center\",\n                      children: /*#__PURE__*/_jsxDEV(Cross, {\n                        type: \"custom\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 31\n                    }, this);\n                  }\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 19\n          }, this)]\n        }, member.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this);\n      }) : \"No new requests..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(ManageMembers, \"Ize+uEU3PZ5Tjro8X+bD5lB4gbk=\", false, function () {\n  return [useDispatch];\n});\n_c = ManageMembers;\nexport default ManageMembers;\nvar _c;\n$RefreshReg$(_c, \"ManageMembers\");","map":{"version":3,"names":["React","useContext","useState","Button","ButtonGroup","Card","useDispatch","memberStatus","Loading","Link","emitter","EventMembersHandler","Pending","SingleEventContext","Cross","Tick","DisplayImage","jsxDEV","_jsxDEV","ManageMembers","props","_s","dispatch","eventData","load","setLoad","eventMembers","id","pendingMembers","currentUser","manageUser","status","memberId","postData","eventId","userId","then","map","member","username","className","children","Header","fileName","_jsxFileName","lineNumber","columnNumber","Body","length","style","padding","image","gravatarImage","to","pathname","search","email","variant","onClick","type","_c","$RefreshReg$"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Event/manage-members.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Button, ButtonGroup, Card } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { memberStatus } from \"../../actions/eventActions\";\nimport { Loading } from \"../../layouts/loader\";\nimport { Link } from \"react-router-dom\";\nimport { emitter } from \"../client/socket\";\nimport { EventMembersHandler } from \"./utilities/action-handlers\";\nimport { Pending } from \"./utilities/event-builder\";\nimport { SingleEventContext } from \"../Dashboards/event-dash\";\nimport { Cross, Tick } from \"../../layouts/icons\";\nimport { DisplayImage } from \"../../layouts/user-displayimg\";\n\nfunction ManageMembers(props) {\n  const dispatch = useDispatch();\n  const eventData = useContext(SingleEventContext);\n\n  const [load, setLoad] = useState(false);\n  const eventMembers = EventMembersHandler(eventData.id);\n  const pendingMembers = Pending(eventMembers, props.currentUser);\n\n  const manageUser = async (status, memberId) => {\n    const postData = {\n      eventId: eventData.id,\n      userId: memberId,\n      status: status,\n    };\n\n    dispatch(memberStatus(postData, setLoad)).then(() => {\n      emitter(pendingMembers.map((member) => member.username));\n    });\n  };\n\n  return (\n    <Card className=\"event-card\">\n      <Card.Header>New requests</Card.Header>\n\n      <Card.Body>\n        {pendingMembers.length > 0\n          ? pendingMembers.map((member) => {\n              return (\n                <div\n                  key={member.id}\n                  className=\"d-flex userInfo-div  justify-content-between\"\n                  style={{ padding: \" 20px 10px 10px 20px\" }}\n                >\n                  <div className=\"d-flex align-items-center\">\n                    <DisplayImage image={member.gravatarImage} />\n\n                    <div className=\"ms-4\">\n                      <Link\n                        to={{\n                          pathname: \"/profile\",\n                          search: `user=${member.username}`,\n                        }}\n                      >\n                        @{member.username}\n                      </Link>\n\n                      <small className=\"d-block text-muted\">\n                        {member.email}\n                      </small>\n                    </div>\n                  </div>\n                  <div className=\"d-flex align-items-center\">\n                    <ButtonGroup\n                      aria-label=\"Basic example\"\n                      className=\"w-100 gap-1\"\n                    >\n                      <Button\n                        variant=\"light\"\n                        className=\"postBtn-placements cta_button\"\n                        onClick={() => manageUser(1, member.userId)}\n                      >\n                        {(() => {\n                          if (load) {\n                            return <Loading />;\n                          } else {\n                            return (\n                              <span className=\"d-flex align-items-center\">\n                                <Tick />\n                              </span>\n                            );\n                          }\n                        })()}\n                      </Button>\n                      <Button\n                        variant=\"light\"\n                        className=\"postBtn-placements cta_button\"\n                        onClick={() => manageUser(2, member.userId)}\n                      >\n                        {(() => {\n                          if (load) {\n                            return <Loading />;\n                          } else {\n                            return (\n                              <span className=\"d-flex align-items-center\">\n                                <Cross type=\"custom\" />\n                              </span>\n                            );\n                          }\n                        })()}\n                      </Button>\n                    </ButtonGroup>\n                  </div>\n                </div>\n              );\n            })\n          : \"No new requests..\"}\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default ManageMembers;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AACnD,SAASC,MAAM,EAAEC,WAAW,EAAEC,IAAI,QAAQ,iBAAiB;AAC3D,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,YAAY,QAAQ,4BAA4B;AACzD,SAASC,OAAO,QAAQ,sBAAsB;AAC9C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,mBAAmB,QAAQ,6BAA6B;AACjE,SAASC,OAAO,QAAQ,2BAA2B;AACnD,SAASC,kBAAkB,QAAQ,0BAA0B;AAC7D,SAASC,KAAK,EAAEC,IAAI,QAAQ,qBAAqB;AACjD,SAASC,YAAY,QAAQ,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7D,SAASC,aAAaA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC5B,MAAMC,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAMiB,SAAS,GAAGtB,UAAU,CAACY,kBAAkB,CAAC;EAEhD,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAMwB,YAAY,GAAGf,mBAAmB,CAACY,SAAS,CAACI,EAAE,CAAC;EACtD,MAAMC,cAAc,GAAGhB,OAAO,CAACc,YAAY,EAAEN,KAAK,CAACS,WAAW,CAAC;EAE/D,MAAMC,UAAU,GAAG,MAAAA,CAAOC,MAAM,EAAEC,QAAQ,KAAK;IAC7C,MAAMC,QAAQ,GAAG;MACfC,OAAO,EAAEX,SAAS,CAACI,EAAE;MACrBQ,MAAM,EAAEH,QAAQ;MAChBD,MAAM,EAAEA;IACV,CAAC;IAEDT,QAAQ,CAACf,YAAY,CAAC0B,QAAQ,EAAER,OAAO,CAAC,CAAC,CAACW,IAAI,CAAC,MAAM;MACnD1B,OAAO,CAACkB,cAAc,CAACS,GAAG,CAAEC,MAAM,IAAKA,MAAM,CAACC,QAAQ,CAAC,CAAC;IAC1D,CAAC,CAAC;EACJ,CAAC;EAED,oBACErB,OAAA,CAACb,IAAI;IAACmC,SAAS,EAAC,YAAY;IAAAC,QAAA,gBAC1BvB,OAAA,CAACb,IAAI,CAACqC,MAAM;MAAAD,QAAA,EAAC;IAAY;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC,eAEvC5B,OAAA,CAACb,IAAI,CAAC0C,IAAI;MAAAN,QAAA,EACPb,cAAc,CAACoB,MAAM,GAAG,CAAC,GACtBpB,cAAc,CAACS,GAAG,CAAEC,MAAM,IAAK;QAC7B,oBACEpB,OAAA;UAEEsB,SAAS,EAAC,8CAA8C;UACxDS,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAuB,CAAE;UAAAT,QAAA,gBAE3CvB,OAAA;YAAKsB,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCvB,OAAA,CAACF,YAAY;cAACmC,KAAK,EAAEb,MAAM,CAACc;YAAc;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAE7C5B,OAAA;cAAKsB,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBvB,OAAA,CAACT,IAAI;gBACH4C,EAAE,EAAE;kBACFC,QAAQ,EAAE,UAAU;kBACpBC,MAAM,EAAG,QAAOjB,MAAM,CAACC,QAAS;gBAClC,CAAE;gBAAAE,QAAA,GACH,GACE,EAACH,MAAM,CAACC,QAAQ;cAAA;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CAAC,eAEP5B,OAAA;gBAAOsB,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAClCH,MAAM,CAACkB;cAAK;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN5B,OAAA;YAAKsB,SAAS,EAAC,2BAA2B;YAAAC,QAAA,eACxCvB,OAAA,CAACd,WAAW;cACV,cAAW,eAAe;cAC1BoC,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAEvBvB,OAAA,CAACf,MAAM;gBACLsD,OAAO,EAAC,OAAO;gBACfjB,SAAS,EAAC,+BAA+B;gBACzCkB,OAAO,EAAEA,CAAA,KAAM5B,UAAU,CAAC,CAAC,EAAEQ,MAAM,CAACH,MAAM,CAAE;gBAAAM,QAAA,EAE3C,CAAC,MAAM;kBACN,IAAIjB,IAAI,EAAE;oBACR,oBAAON,OAAA,CAACV,OAAO;sBAAAmC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC;kBACpB,CAAC,MAAM;oBACL,oBACE5B,OAAA;sBAAMsB,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,eACzCvB,OAAA,CAACH,IAAI;wBAAA4B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC;kBAEX;gBACF,CAAC,EAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACT5B,OAAA,CAACf,MAAM;gBACLsD,OAAO,EAAC,OAAO;gBACfjB,SAAS,EAAC,+BAA+B;gBACzCkB,OAAO,EAAEA,CAAA,KAAM5B,UAAU,CAAC,CAAC,EAAEQ,MAAM,CAACH,MAAM,CAAE;gBAAAM,QAAA,EAE3C,CAAC,MAAM;kBACN,IAAIjB,IAAI,EAAE;oBACR,oBAAON,OAAA,CAACV,OAAO;sBAAAmC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC;kBACpB,CAAC,MAAM;oBACL,oBACE5B,OAAA;sBAAMsB,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,eACzCvB,OAAA,CAACJ,KAAK;wBAAC6C,IAAI,EAAC;sBAAQ;wBAAAhB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACnB,CAAC;kBAEX;gBACF,CAAC,EAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC;QAAA,GA9DDR,MAAM,CAACX,EAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA+DX,CAAC;MAEV,CAAC,CAAC,GACF;IAAmB;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEX;AAACzB,EAAA,CAnGQF,aAAa;EAAA,QACHb,WAAW;AAAA;AAAAsD,EAAA,GADrBzC,aAAa;AAqGtB,eAAeA,aAAa;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}