{"ast":null,"code":"import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{Button,ButtonGroup,Card,Dropdown}from\"react-bootstrap\";import UpdateEvent from\"./update-event\";import{eventOptions}from\"./utilities/event-options\";import{Mention}from\"../Utilities/mention\";import EventMembers from\"./event-members\";import{RequestBtn,StatusBadge}from\"./utilities/event-builder\";import{SingleEventContext}from\"../Dashboards/event-dash\";import{SecurityContext}from\"../Context/security-context\";import{Comment,Ellipse}from\"../../layouts/icons\";import{CANCELLED,FINISHED}from\"./utilities/types\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EventItem(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editorMode=_useState2[0],setEditorMode=_useState2[1];var eventData=useContext(SingleEventContext);var currentUser=useContext(SecurityContext);function handleClick(){setEditorMode(!editorMode);}return/*#__PURE__*/_jsx(_Fragment,{children:editorMode===false?/*#__PURE__*/_jsxs(Card,{className:\"event-card\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"img\",{src:eventData.gravatarImage,className:\"userProf-img me-3\",alt:\"Img\"}),/*#__PURE__*/_jsx(StatusBadge,{joinedStatus:eventData.joinedStatus}),currentUser===eventData.user?/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"light\",size:\"sm\",id:\"dropdown-basic\",children:/*#__PURE__*/_jsx(Ellipse,{})}),/*#__PURE__*/_jsx(Dropdown.Menu,{children:eventOptions(eventData.id,eventData.title,eventData.user,currentUser,handleClick).options_owner.slice(eventData.eventStatus===CANCELLED||eventData.eventStatus===FINISHED?(0,2):\"\").map(function(i,index){return/*#__PURE__*/_jsx(\"div\",{className:\"p-1\",children:i.item},index);})})]}):\"\"]})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details_textarea\",children:[/*#__PURE__*/_jsx(\"h4\",{children:eventData.title}),/*#__PURE__*/_jsx(\"span\",{className:\"content_sm1\",dangerouslySetInnerHTML:{__html:eventData.details?Mention(eventData.details):eventData.details}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details_textarea\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Details\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Host:\",\" \",/*#__PURE__*/_jsxs(\"a\",{href:\"/profile?user=\".concat(eventData.userName),className:\"text-decoration-none\",children:[\"@\",eventData.userName]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Posted: \",eventData.humanTimeDiffCreatedAt,\" ago\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Date: \",eventData.eventDateString,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(EventMembers,{eventId:eventData.id,userId:eventData.user,currentUser:currentUser,img:eventData.gravatarImage})})]}),/*#__PURE__*/_jsxs(ButtonGroup,{\"aria-label\":\"Basic example\",className:\"mt-3 w-100 justify-content-between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"postBtn-placements cta_button\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center fw-normal small text-muted\",children:[/*#__PURE__*/_jsx(Comment,{}),props.commentCount]})}),/*#__PURE__*/_jsx(RequestBtn,{JoinEvent:eventData,joinedStatus:eventData.joinedStatus})]})]})]}):/*#__PURE__*/_jsx(UpdateEvent,{eventId:eventData.id,title:eventData.title,details:eventData.details,maxMembers:eventData.maxMember,cardStyle:currentUser===eventData.user?\"editor-card\":\"\",handleUpate:handleClick})});}export default EventItem;","map":{"version":3,"names":["React","useState","useContext","Button","ButtonGroup","Card","Dropdown","UpdateEvent","eventOptions","Mention","EventMembers","RequestBtn","StatusBadge","SingleEventContext","SecurityContext","Comment","Ellipse","CANCELLED","FINISHED","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EventItem","props","_useState","_useState2","_slicedToArray","editorMode","setEditorMode","eventData","currentUser","handleClick","children","className","Header","src","gravatarImage","alt","joinedStatus","user","Toggle","variant","size","id","Menu","title","options_owner","slice","eventStatus","map","i","index","item","Body","dangerouslySetInnerHTML","__html","details","href","concat","userName","humanTimeDiffCreatedAt","eventDateString","eventId","userId","img","commentCount","JoinEvent","maxMembers","maxMember","cardStyle","handleUpate"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Event/event-item.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Button, ButtonGroup, Card, Dropdown } from \"react-bootstrap\";\nimport UpdateEvent from \"./update-event\";\nimport { eventOptions } from \"./utilities/event-options\";\nimport { Mention } from \"../Utilities/mention\";\nimport EventMembers from \"./event-members\";\nimport { RequestBtn, StatusBadge } from \"./utilities/event-builder\";\nimport { SingleEventContext } from \"../Dashboards/event-dash\";\nimport { SecurityContext } from \"../Context/security-context\";\nimport { Comment, Ellipse } from \"../../layouts/icons\";\nimport { CANCELLED, FINISHED } from \"./utilities/types\";\n\nfunction EventItem(props) {\n  const [editorMode, setEditorMode] = useState(false);\n  const eventData = useContext(SingleEventContext);\n  const currentUser = useContext(SecurityContext);\n\n  function handleClick() {\n    setEditorMode(!editorMode);\n  }\n\n  return (\n    <>\n      {editorMode === false ? (\n        <Card className=\"event-card\">\n          <Card.Header>\n            <div className=\"d-flex justify-content-between\">\n              <img\n                src={eventData.gravatarImage}\n                className=\"userProf-img me-3\"\n                alt=\"Img\"\n              />\n              <StatusBadge joinedStatus={eventData.joinedStatus} />\n              {currentUser === eventData.user ? (\n                <Dropdown>\n                  <Dropdown.Toggle\n                    variant=\"light\"\n                    size=\"sm\"\n                    id=\"dropdown-basic\"\n                  >\n                    <Ellipse />\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    {eventOptions(\n                      eventData.id,\n                      eventData.title,\n                      eventData.user,\n                      currentUser,\n                      handleClick\n                    )\n                      .options_owner.slice(\n                        eventData.eventStatus === CANCELLED ||\n                          eventData.eventStatus === FINISHED\n                          ? (0, 2)\n                          : \"\"\n                      )\n                      .map((i, index) => {\n                        return (\n                          <div key={index} className=\"p-1\">\n                            {i.item}\n                          </div>\n                        );\n                      })}\n                  </Dropdown.Menu>\n                </Dropdown>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </Card.Header>\n          <Card.Body>\n            <div className=\"details_textarea\">\n              <h4>{eventData.title}</h4>\n              <span\n                className=\"content_sm1\"\n                dangerouslySetInnerHTML={{\n                  __html: eventData.details\n                    ? Mention(eventData.details)\n                    : eventData.details,\n                }}\n              />\n            </div>\n            <div className=\"details_textarea\">\n              <h6>Details</h6>\n              <small className=\"text-muted\">\n                Host:{\" \"}\n                <a\n                  href={`/profile?user=${eventData.userName}`}\n                  className=\"text-decoration-none\"\n                >\n                  @{eventData.userName}\n                </a>\n              </small>\n              <br />\n              <small className=\"text-muted\">\n                Posted: {eventData.humanTimeDiffCreatedAt} ago\n              </small>\n              <br />\n              <small className=\"text-muted\">\n                Date: {eventData.eventDateString}{\" \"}\n              </small>\n\n              <div className=\"mt-4\">\n                <EventMembers\n                  eventId={eventData.id}\n                  userId={eventData.user}\n                  currentUser={currentUser}\n                  img={eventData.gravatarImage}\n                />\n              </div>\n            </div>\n            <ButtonGroup\n              aria-label=\"Basic example\"\n              className=\"mt-3 w-100 justify-content-between\"\n            >\n              <Button variant=\"light\" className=\"postBtn-placements cta_button\">\n                <span className=\"d-flex align-items-center fw-normal small text-muted\">\n                  <Comment />\n                  {props.commentCount}\n                </span>\n              </Button>\n              <RequestBtn\n                JoinEvent={eventData}\n                joinedStatus={eventData.joinedStatus}\n              />\n            </ButtonGroup>\n          </Card.Body>\n        </Card>\n      ) : (\n        <UpdateEvent\n          eventId={eventData.id}\n          title={eventData.title}\n          details={eventData.details}\n          maxMembers={eventData.maxMember}\n          cardStyle={currentUser === eventData.user ? \"editor-card\" : \"\"}\n          handleUpate={handleClick}\n        />\n      )}\n    </>\n  );\n}\n\nexport default EventItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}