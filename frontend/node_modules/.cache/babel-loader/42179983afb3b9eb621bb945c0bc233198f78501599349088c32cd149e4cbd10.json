{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Card,Form}from\"react-bootstrap\";import{useDispatch}from\"react-redux\";import CTAButton from\"../../layouts/cta-button\";import{getAllComments,updateComment}from\"../../actions/commentActions\";import{SearchParam}from\"../Utilities/search-param\";import{emitter}from\"../client/socket\";import{MentionFilter}from\"../Utilities/mention\";import{Cross,Submit}from\"../../layouts/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateComment(props,_ref){var handleUpate=_ref.handleUpate;var dispatch=useDispatch();var _useState=useState(props.content),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var pageId=SearchParam();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var postData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();postData={content:content};dispatch(updateComment(props.commentId,postData)).then(function(){dispatch(getAllComments(props.eventId,pageId));emitter(MentionFilter(content));});props.handleUpate();case 4:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){handleSubmit(e);},children:[/*#__PURE__*/_jsxs(Card,{className:props.cardStyle,children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold m-0\",children:\"Edit comment\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Form.Control,{spellCheck:true,placeholder:\"What's on your mind?\",as:\"textarea\",value:content||\"\",onChange:function onChange(e){return setContent(e.target.value);},required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-3\",children:[/*#__PURE__*/_jsx(CTAButton,{type:\"\",btnStyle:\"postBtn-placements\",variant:\"primary\",onClick:props.handleUpate,placeholder:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Cross,{}),\"Cancel\"]})}),/*#__PURE__*/_jsx(CTAButton,{type:\"submit\",btnStyle:\"postBtn-placements cta_button\",variant:\"primary\",formValidation:content===\"\"?true:false,isLoading:\"\",placeholder:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Submit,{}),\"Update\"]})})]})]})]}),\" \"]});}export default UpdateComment;","map":{"version":3,"names":["React","useState","Card","Form","useDispatch","CTAButton","getAllComments","updateComment","SearchParam","emitter","MentionFilter","Cross","Submit","jsx","_jsx","jsxs","_jsxs","UpdateComment","props","_ref","handleUpate","dispatch","_useState","content","_useState2","_slicedToArray","setContent","pageId","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","postData","wrap","_callee$","_context","prev","next","preventDefault","commentId","then","eventId","stop","_x","apply","arguments","onSubmit","children","className","cardStyle","Header","Body","Control","spellCheck","placeholder","as","value","onChange","target","required","type","btnStyle","variant","onClick","formValidation","isLoading"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Comments/update-comment.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Form } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport CTAButton from \"../../layouts/cta-button\";\nimport { getAllComments, updateComment } from \"../../actions/commentActions\";\nimport { SearchParam } from \"../Utilities/search-param\";\nimport { emitter } from \"../client/socket\";\nimport { MentionFilter } from \"../Utilities/mention\";\nimport { Cross, Submit } from \"../../layouts/icons\";\n\nfunction UpdateComment(props, { handleUpate }) {\n  const dispatch = useDispatch();\n  const [content, setContent] = useState(props.content);\n\n  let pageId = SearchParam();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const postData = {\n      content: content,\n    };\n\n    dispatch(updateComment(props.commentId, postData)).then(() => {\n      dispatch(getAllComments(props.eventId, pageId));\n      emitter(MentionFilter(content));\n    });\n    props.handleUpate();\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        handleSubmit(e);\n      }}\n    >\n      <Card className={props.cardStyle}>\n        <Card.Header>\n          <h3 className=\"fw-bold m-0\">Edit comment</h3>\n        </Card.Header>\n        <Card.Body>\n          <Form.Control\n            spellCheck={true}\n            placeholder=\"What's on your mind?\"\n            as=\"textarea\"\n            value={content || \"\"}\n            onChange={(e) => setContent(e.target.value)}\n            required\n          />\n\n          <div className=\"d-flex justify-content-between mt-3\">\n            <CTAButton\n              type={\"\"}\n              btnStyle={\"postBtn-placements\"}\n              variant={\"primary\"}\n              onClick={props.handleUpate}\n              placeholder={\n                <div className=\"d-flex align-items-center\">\n                  <Cross />\n                  Cancel\n                </div>\n              }\n            />\n            <CTAButton\n              type={\"submit\"}\n              btnStyle={\"postBtn-placements cta_button\"}\n              variant={\"primary\"}\n              formValidation={content === \"\" ? true : false}\n              isLoading={\"\"}\n              placeholder={\n                <div className=\"d-flex align-items-center\">\n                  <Submit />\n                  Update\n                </div>\n              }\n            />\n          </div>\n        </Card.Body>\n      </Card>{\" \"}\n    </Form>\n  );\n}\n\nexport default UpdateComment;\n"],"mappings":"2XAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,IAAI,KAAQ,iBAAiB,CAC5C,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,SAAS,KAAM,0BAA0B,CAChD,OAASC,cAAc,CAAEC,aAAa,KAAQ,8BAA8B,CAC5E,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,OAASC,aAAa,KAAQ,sBAAsB,CACpD,OAASC,KAAK,CAAEC,MAAM,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,QAAS,CAAAC,aAAaA,CAACC,KAAK,CAAAC,IAAA,CAAmB,IAAf,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CACzC,GAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,IAAAkB,SAAA,CAA8BrB,QAAQ,CAACiB,KAAK,CAACK,OAAO,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAA9CC,OAAO,CAAAC,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,GAAI,CAAAG,MAAM,CAAGnB,WAAW,CAAC,CAAC,CAE1B,GAAM,CAAAoB,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BN,CAAC,CAACO,cAAc,CAAC,CAAC,CAEZN,QAAQ,CAAG,CACfZ,OAAO,CAAEA,OACX,CAAC,CAEDF,QAAQ,CAACd,aAAa,CAACW,KAAK,CAACwB,SAAS,CAAEP,QAAQ,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAM,CAC5DtB,QAAQ,CAACf,cAAc,CAACY,KAAK,CAAC0B,OAAO,CAAEjB,MAAM,CAAC,CAAC,CAC/ClB,OAAO,CAACC,aAAa,CAACa,OAAO,CAAC,CAAC,CACjC,CAAC,CAAC,CACFL,KAAK,CAACE,WAAW,CAAC,CAAC,CAAC,wBAAAkB,QAAA,CAAAO,IAAA,MAAAZ,OAAA,GACrB,kBAZK,CAAAL,YAAYA,CAAAkB,EAAA,SAAAjB,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAYjB,CAED,mBACEhC,KAAA,CAACb,IAAI,EACH8C,QAAQ,CAAE,SAAAA,SAACf,CAAC,CAAK,CACfN,YAAY,CAACM,CAAC,CAAC,CACjB,CAAE,CAAAgB,QAAA,eAEFlC,KAAA,CAACd,IAAI,EAACiD,SAAS,CAAEjC,KAAK,CAACkC,SAAU,CAAAF,QAAA,eAC/BpC,IAAA,CAACZ,IAAI,CAACmD,MAAM,EAAAH,QAAA,cACVpC,IAAA,OAAIqC,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,cAAY,CAAI,CAAC,CAClC,CAAC,cACdlC,KAAA,CAACd,IAAI,CAACoD,IAAI,EAAAJ,QAAA,eACRpC,IAAA,CAACX,IAAI,CAACoD,OAAO,EACXC,UAAU,CAAE,IAAK,CACjBC,WAAW,CAAC,sBAAsB,CAClCC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEpC,OAAO,EAAI,EAAG,CACrBqC,QAAQ,CAAE,SAAAA,SAAC1B,CAAC,QAAK,CAAAR,UAAU,CAACQ,CAAC,CAAC2B,MAAM,CAACF,KAAK,CAAC,EAAC,CAC5CG,QAAQ,MACT,CAAC,cAEF9C,KAAA,QAAKmC,SAAS,CAAC,qCAAqC,CAAAD,QAAA,eAClDpC,IAAA,CAACT,SAAS,EACR0D,IAAI,CAAE,EAAG,CACTC,QAAQ,CAAE,oBAAqB,CAC/BC,OAAO,CAAE,SAAU,CACnBC,OAAO,CAAEhD,KAAK,CAACE,WAAY,CAC3BqC,WAAW,cACTzC,KAAA,QAAKmC,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACxCpC,IAAA,CAACH,KAAK,GAAE,CAAC,SAEX,EAAK,CACN,CACF,CAAC,cACFG,IAAA,CAACT,SAAS,EACR0D,IAAI,CAAE,QAAS,CACfC,QAAQ,CAAE,+BAAgC,CAC1CC,OAAO,CAAE,SAAU,CACnBE,cAAc,CAAE5C,OAAO,GAAK,EAAE,CAAG,IAAI,CAAG,KAAM,CAC9C6C,SAAS,CAAE,EAAG,CACdX,WAAW,cACTzC,KAAA,QAAKmC,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACxCpC,IAAA,CAACF,MAAM,GAAE,CAAC,SAEZ,EAAK,CACN,CACF,CAAC,EACC,CAAC,EACG,CAAC,EACR,CAAC,CAAC,GAAG,EACP,CAAC,CAEX,CAEA,cAAe,CAAAK,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}