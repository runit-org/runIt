{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Card,Form}from\"react-bootstrap\";import{updateEvent,getSingleEvent}from\"../../actions/eventActions\";import{useDispatch}from\"react-redux\";import CTAButton from\"../../layouts/cta-button\";import{useParams}from\"react-router-dom\";import{emitter}from\"../client/socket\";import{MentionFilter}from\"../Utilities/mention\";import{Cross,Submit}from\"../../layouts/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateEvent(props,_ref){var handleUpate=_ref.handleUpate;var dispatch=useDispatch();var params=useParams();var _useState=useState(props.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(props.maxMembers),_useState4=_slicedToArray(_useState3,2),maxMembers=_useState4[0],setMaxMembers=_useState4[1];var _useState5=useState(props.details),_useState6=_slicedToArray(_useState5,2),details=_useState6[0],setDetails=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var postData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();postData={title:title,maxMember:maxMembers,details:details};dispatch(updateEvent(props.eventId,postData)).then(function(){dispatch(getSingleEvent(params.id));emitter(MentionFilter(details));});props.handleUpate();case 4:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){handleSubmit(e);},children:[/*#__PURE__*/_jsxs(Card,{className:props.cardStyle,children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold m-0\",children:\"Update event\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"d-flex mb-3\",children:[/*#__PURE__*/_jsx(Form.Control,{className:\"me-2\",type:\"title\",placeholder:\"Event Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},required:true}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Maximum Members\",value:maxMembers||\"\",onChange:function onChange(e){return setMaxMembers(parseInt(e.target.value));},min:\"2\",required:true})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{spellCheck:true,placeholder:\"What's on your mind?\",as:\"textarea\",value:details||\"\",onChange:function onChange(e){return setDetails(e.target.value);},required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-3\",children:[/*#__PURE__*/_jsx(CTAButton,{type:\"\",btnStyle:\"postBtn-placements\",variant:\"primary\",onClick:props.handleUpate,placeholder:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Cross,{}),\"Cancel\"]})}),/*#__PURE__*/_jsx(CTAButton,{type:\"submit\",btnStyle:\"postBtn-placements cta_button\",variant:\"primary\",formValidation:title===\"\"||maxMembers===\"\"||details===\"\"||details===\"<p><br></p>\"?true:false,isLoading:\"\",placeholder:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Submit,{}),\"Publish\"]})})]})]})]}),\" \"]});}export default UpdateEvent;","map":{"version":3,"names":["React","useState","Card","Form","updateEvent","getSingleEvent","useDispatch","CTAButton","useParams","emitter","MentionFilter","Cross","Submit","jsx","_jsx","jsxs","_jsxs","UpdateEvent","props","_ref","handleUpate","dispatch","params","_useState","title","_useState2","_slicedToArray","setTitle","_useState3","maxMembers","_useState4","setMaxMembers","_useState5","details","_useState6","setDetails","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","postData","wrap","_callee$","_context","prev","next","preventDefault","maxMember","eventId","then","id","stop","_x","apply","arguments","onSubmit","children","className","cardStyle","Header","Body","Group","Control","type","placeholder","value","onChange","target","required","parseInt","min","spellCheck","as","btnStyle","variant","onClick","formValidation","isLoading"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Event/update-event.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Form } from \"react-bootstrap\";\nimport { updateEvent, getSingleEvent } from \"../../actions/eventActions\";\nimport { useDispatch } from \"react-redux\";\nimport CTAButton from \"../../layouts/cta-button\";\nimport { useParams } from \"react-router-dom\";\nimport { emitter } from \"../client/socket\";\nimport { MentionFilter } from \"../Utilities/mention\";\nimport { Cross, Submit } from \"../../layouts/icons\";\n\nfunction UpdateEvent(props, { handleUpate }) {\n  const dispatch = useDispatch();\n  const params = useParams();\n  const [title, setTitle] = useState(props.title);\n  const [maxMembers, setMaxMembers] = useState(props.maxMembers);\n  const [details, setDetails] = useState(props.details);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const postData = {\n      title: title,\n      maxMember: maxMembers,\n      details: details,\n    };\n\n    dispatch(updateEvent(props.eventId, postData)).then(() => {\n      dispatch(getSingleEvent(params.id));\n      emitter(MentionFilter(details));\n    });\n    props.handleUpate();\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        handleSubmit(e);\n      }}\n    >\n      <Card className={props.cardStyle}>\n        <Card.Header>\n          <h3 className=\"fw-bold m-0\">Update event</h3>\n        </Card.Header>\n        <Card.Body>\n          <Form.Group className=\"d-flex mb-3\">\n            <Form.Control\n              className=\"me-2\"\n              type=\"title\"\n              placeholder=\"Event Title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              required\n            />\n\n            <Form.Control\n              type=\"number\"\n              placeholder=\"Maximum Members\"\n              value={maxMembers || \"\"}\n              onChange={(e) => setMaxMembers(parseInt(e.target.value))}\n              min=\"2\"\n              required\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control\n              spellCheck={true}\n              placeholder=\"What's on your mind?\"\n              as=\"textarea\"\n              value={details || \"\"}\n              onChange={(e) => setDetails(e.target.value)}\n              required\n            />\n          </Form.Group>\n          <div className=\"d-flex justify-content-between mt-3\">\n            <CTAButton\n              type={\"\"}\n              btnStyle={\"postBtn-placements\"}\n              variant={\"primary\"}\n              onClick={props.handleUpate}\n              placeholder={\n                <div className=\"d-flex align-items-center\">\n                  <Cross />\n                  Cancel\n                </div>\n              }\n            />\n            <CTAButton\n              type={\"submit\"}\n              btnStyle={\"postBtn-placements cta_button\"}\n              variant={\"primary\"}\n              formValidation={\n                title === \"\" ||\n                maxMembers === \"\" ||\n                details === \"\" ||\n                details === \"<p><br></p>\"\n                  ? true\n                  : false\n              }\n              isLoading={\"\"}\n              placeholder={\n                <div className=\"d-flex align-items-center\">\n                  <Submit />\n                  Publish\n                </div>\n              }\n            />\n          </div>\n        </Card.Body>\n      </Card>{\" \"}\n    </Form>\n  );\n}\n\nexport default UpdateEvent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}