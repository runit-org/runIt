{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import{Button}from\"react-bootstrap\";import{useDispatch}from\"react-redux\";import{Loading}from\"../../layouts/loader\";import ModalItem from\"../Event/modal-item\";import{SearchParam}from\"../Utilities/search-param\";import{useNavigate}from\"react-router-dom\";import{getAllComments,removeComment}from\"../../actions/commentActions\";import{Delete}from\"../../layouts/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RemoveComment(props){var dispatch=useDispatch();var navigate=useNavigate();var ref=/*#__PURE__*/React.createRef();var btnRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setLoad=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var pageId=SearchParam(props.commentCount);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch(removeComment(props.commentId,setLoad,setError)).then(function(){dispatch(getAllComments(props.eventId,pageId));navigate(\"/event/\".concat(props.eventId,\"?page=\").concat(pageId),{replace:true,state:{id:pageId}});});case 2:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ModalItem,{ref:(ref,btnRef),customBtn:\"\",btnIcon:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Delete,{}),\"Delete\"]}),error:error,title:\"Delete Comment\",content:/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",\"Are you sure you want to delete this comment? This can't be undone.\"]}),subBtn:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Button,{className:\"me-3 btn-cancel\",onClick:function onClick(){return btnRef.current.setModalShow(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",onClick:function onClick(){return btnRef.current.setModalShow(false);},children:function(){if(load){return/*#__PURE__*/_jsx(Loading,{});}else{return/*#__PURE__*/_jsx(_Fragment,{children:\"Remove\"});}}()})]}),subHandler:handleSubmit})});}export default RemoveComment;","map":{"version":3,"names":["React","useState","useRef","Button","useDispatch","Loading","ModalItem","SearchParam","useNavigate","getAllComments","removeComment","Delete","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RemoveComment","props","dispatch","navigate","ref","createRef","btnRef","_useState","_useState2","_slicedToArray","load","setLoad","_useState3","_useState4","error","setError","pageId","commentCount","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","commentId","then","eventId","concat","replace","state","id","stop","_x","apply","arguments","children","customBtn","btnIcon","className","title","content","subBtn","onClick","current","setModalShow","type","subHandler"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Comments/remove-comment.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { Loading } from \"../../layouts/loader\";\nimport ModalItem from \"../Event/modal-item\";\nimport { SearchParam } from \"../Utilities/search-param\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getAllComments, removeComment } from \"../../actions/commentActions\";\nimport { Delete } from \"../../layouts/icons\";\n\nfunction RemoveComment(props) {\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const ref = React.createRef();\n  const btnRef = useRef();\n  const [load, setLoad] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  let pageId = SearchParam(props.commentCount);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    dispatch(removeComment(props.commentId, setLoad, setError)).then(() => {\n      dispatch(getAllComments(props.eventId, pageId));\n      navigate(`/event/${props.eventId}?page=${pageId}`, {\n        replace: true,\n        state: { id: pageId },\n      });\n    });\n  };\n\n  return (\n    <div>\n      <ModalItem\n        ref={(ref, btnRef)}\n        customBtn={\"\"}\n        btnIcon={\n          <div className=\"d-flex align-items-center\">\n            <Delete />\n            Delete\n          </div>\n        }\n        error={error}\n        title={\"Delete Comment\"}\n        content={\n          <>\n            {\" \"}\n            Are you sure you want to delete this comment? This can't be undone.\n          </>\n        }\n        subBtn={\n          <>\n            <hr />\n            <Button\n              className=\"me-3 btn-cancel\"\n              onClick={() => btnRef.current.setModalShow(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              onClick={() => btnRef.current.setModalShow(false)}\n            >\n              {(() => {\n                if (load) {\n                  return <Loading />;\n                } else {\n                  return <>Remove</>;\n                }\n              })()}\n            </Button>\n          </>\n        }\n        subHandler={handleSubmit}\n      />\n    </div>\n  );\n}\n\nexport default RemoveComment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}