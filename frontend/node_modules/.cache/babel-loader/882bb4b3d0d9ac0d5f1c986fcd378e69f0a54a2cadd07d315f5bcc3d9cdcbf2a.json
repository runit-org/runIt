{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, GET_USER_PROFILE, GET_CURRENT_USER_PROFILE, SET_CURRENT_USER } from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\nexport const getUserProfile = userName => async dispatch => {\n  await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    axios.get(`http://localhost:8000/api/user/profile/${userName}/`).then(res => {\n      dispatch({\n        type: GET_USER_PROFILE,\n        payload: res.data\n      });\n    }).catch(error => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};\nexport const getCurrentUserProfile = () => async dispatch => {\n  await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    axios.get(`http://localhost:8000/api/user/me/`).then(res => {\n      dispatch({\n        type: GET_CURRENT_USER_PROFILE,\n        payload: res.data\n      });\n    }).catch(error => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response\n      });\n      dispatch({\n        type: SET_CURRENT_USER,\n        payload: null\n      });\n    });\n  });\n};\nexport const vote = (id, postData) => async dispatch => {\n  await refreshToken().then(ref => {\n    setToken(ref.data.access);\n    axios.post(`http://localhost:8000/api/user/vote/${id}/`, postData).then(res => {\n      console.log(res);\n    }).catch(error => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: error.response.data\n      });\n    });\n  });\n};","map":{"version":3,"names":["axios","GET_ERRORS","GET_USER_PROFILE","GET_CURRENT_USER_PROFILE","SET_CURRENT_USER","setToken","refreshToken","getUserProfile","userName","dispatch","then","ref","data","access","get","res","type","payload","catch","error","response","getCurrentUserProfile","vote","id","postData","post","console","log"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  GET_ERRORS,\n  GET_USER_PROFILE,\n  GET_CURRENT_USER_PROFILE,\n  SET_CURRENT_USER,\n} from \"./types\";\nimport { setToken, refreshToken } from \"../securityUtils/setToken\";\n\nexport const getUserProfile = (userName) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/user/profile/${userName}/`)\n      .then((res) => {\n        dispatch({\n          type: GET_USER_PROFILE,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n\nexport const getCurrentUserProfile = () => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .get(`http://localhost:8000/api/user/me/`)\n      .then((res) => {\n        dispatch({\n          type: GET_CURRENT_USER_PROFILE,\n          payload: res.data,\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response,\n        });\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: null,\n        });\n      });\n  });\n};\n\nexport const vote = (id, postData) => async (dispatch) => {\n  await refreshToken().then((ref) => {\n    setToken(ref.data.access);\n    axios\n      .post(`http://localhost:8000/api/user/vote/${id}/`, postData)\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((error) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: error.response.data,\n        });\n      });\n  });\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,UAAU,EACVC,gBAAgB,EAChBC,wBAAwB,EACxBC,gBAAgB,QACX,SAAS;AAChB,SAASC,QAAQ,EAAEC,YAAY,QAAQ,2BAA2B;AAElE,OAAO,MAAMC,cAAc,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAC9D,MAAMH,YAAY,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAK;IACjCN,QAAQ,CAACM,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC;IACzBb,KAAK,CACFc,GAAG,CAAE,0CAAyCN,QAAS,GAAE,CAAC,CAC1DE,IAAI,CAAEK,GAAG,IAAK;MACbN,QAAQ,CAAC;QACPO,IAAI,EAAEd,gBAAgB;QACtBe,OAAO,EAAEF,GAAG,CAACH;MACf,CAAC,CAAC;IACJ,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,IAAK;MAChBV,QAAQ,CAAC;QACPO,IAAI,EAAEf,UAAU;QAChBgB,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACR;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMS,qBAAqB,GAAGA,CAAA,KAAM,MAAOZ,QAAQ,IAAK;EAC7D,MAAMH,YAAY,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAK;IACjCN,QAAQ,CAACM,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC;IACzBb,KAAK,CACFc,GAAG,CAAE,oCAAmC,CAAC,CACzCJ,IAAI,CAAEK,GAAG,IAAK;MACbN,QAAQ,CAAC;QACPO,IAAI,EAAEb,wBAAwB;QAC9Bc,OAAO,EAAEF,GAAG,CAACH;MACf,CAAC,CAAC;IACJ,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,IAAK;MAChBV,QAAQ,CAAC;QACPO,IAAI,EAAEf,UAAU;QAChBgB,OAAO,EAAEE,KAAK,CAACC;MACjB,CAAC,CAAC;MACFX,QAAQ,CAAC;QACPO,IAAI,EAAEZ,gBAAgB;QACtBa,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMK,IAAI,GAAGA,CAACC,EAAE,EAAEC,QAAQ,KAAK,MAAOf,QAAQ,IAAK;EACxD,MAAMH,YAAY,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAK;IACjCN,QAAQ,CAACM,GAAG,CAACC,IAAI,CAACC,MAAM,CAAC;IACzBb,KAAK,CACFyB,IAAI,CAAE,uCAAsCF,EAAG,GAAE,EAAEC,QAAQ,CAAC,CAC5Dd,IAAI,CAAEK,GAAG,IAAK;MACbW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;IAClB,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;MAChBV,QAAQ,CAAC;QACPO,IAAI,EAAEf,UAAU;QAChBgB,OAAO,EAAEE,KAAK,CAACC,QAAQ,CAACR;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}