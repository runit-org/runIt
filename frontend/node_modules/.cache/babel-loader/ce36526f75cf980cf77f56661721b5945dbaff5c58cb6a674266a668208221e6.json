{"ast":null,"code":"import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getAllComments}from\"../../../actions/commentActions\";import{getAllEvents,getEventMembers,getSingleEvent}from\"../../../actions/eventActions\";export var EventMembersHandler=function EventMembersHandler(eventId){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),eventMbs=_useState2[0],setEventMbs=_useState2[1];useEffect(function(){if(eventId){dispatch(getEventMembers(eventId));}},[dispatch,eventId]);var allEventMembers=useSelector(function(eventReducer){return eventReducer.events.eventMembers.data;});useEffect(function(){if(allEventMembers){setEventMbs(allEventMembers);}},[allEventMembers]);return eventMbs;};export var SingleEventHandler=function SingleEventHandler(params,pageId){var dispatch=useDispatch();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),eventData=_useState4[0],setEventData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),commentData=_useState6[0],setCommentData=_useState6[1];useEffect(function(){dispatch(getSingleEvent(params.id)).then(function(){dispatch(getAllComments(params.id,pageId?pageId:1));});},[dispatch,params.id,pageId]);var event=useSelector(function(securityReducer){return securityReducer.events.events;});var comments=useSelector(function(commentReducer){return commentReducer.comments.events;});useEffect(function(){if(event){setEventData(event.data);}if(comments){setCommentData(comments);}},[event,comments]);return{eventData:eventData,commentData:commentData};};export var EventHandler=function EventHandler(pageId){var dispatch=useDispatch();var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),eventData=_useState8[0],setEventData=_useState8[1];useEffect(function(){dispatch(getAllEvents(pageId?pageId:1));},[dispatch,pageId]);var allEventsData=useSelector(function(eventReducer){return eventReducer.events.events;});useEffect(function(){if(allEventsData){setEventData(allEventsData);}},[allEventsData]);return eventData;};","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","getAllComments","getAllEvents","getEventMembers","getSingleEvent","EventMembersHandler","eventId","dispatch","_useState","_useState2","_slicedToArray","eventMbs","setEventMbs","allEventMembers","eventReducer","events","eventMembers","data","SingleEventHandler","params","pageId","_useState3","_useState4","eventData","setEventData","_useState5","_useState6","commentData","setCommentData","id","then","event","securityReducer","comments","commentReducer","EventHandler","_useState7","_useState8","allEventsData"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Event/utilities/action-handlers.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllComments } from \"../../../actions/commentActions\";\nimport {\n  getAllEvents,\n  getEventMembers,\n  getSingleEvent,\n} from \"../../../actions/eventActions\";\n\nexport const EventMembersHandler = (eventId) => {\n  const dispatch = useDispatch();\n  const [eventMbs, setEventMbs] = useState([]);\n\n  useEffect(() => {\n    if (eventId) {\n      dispatch(getEventMembers(eventId));\n    }\n  }, [dispatch, eventId]);\n\n  var allEventMembers = useSelector(\n    (eventReducer) => eventReducer.events.eventMembers.data\n  );\n  useEffect(() => {\n    if (allEventMembers) {\n      setEventMbs(allEventMembers);\n    }\n  }, [allEventMembers]);\n\n  return eventMbs;\n};\n\nexport const SingleEventHandler = (params, pageId) => {\n  const dispatch = useDispatch();\n  const [eventData, setEventData] = useState([]);\n  const [commentData, setCommentData] = useState([]);\n\n  useEffect(() => {\n    dispatch(getSingleEvent(params.id)).then(() => {\n      dispatch(getAllComments(params.id, pageId ? pageId : 1));\n    });\n  }, [dispatch, params.id, pageId]);\n\n  var event = useSelector((securityReducer) => securityReducer.events.events);\n  var comments = useSelector(\n    (commentReducer) => commentReducer.comments.events\n  );\n\n  useEffect(() => {\n    if (event) {\n      setEventData(event.data);\n    }\n    if (comments) {\n      setCommentData(comments);\n    }\n  }, [event, comments]);\n\n  return { eventData, commentData };\n};\n\nexport const EventHandler = (pageId) => {\n  const dispatch = useDispatch();\n  const [eventData, setEventData] = useState([]);\n\n  useEffect(() => {\n    dispatch(getAllEvents(pageId ? pageId : 1));\n  }, [dispatch, pageId]);\n\n  var allEventsData = useSelector((eventReducer) => eventReducer.events.events);\n  useEffect(() => {\n    if (allEventsData) {\n      setEventData(allEventsData);\n    }\n  }, [allEventsData]);\n\n  return eventData;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}