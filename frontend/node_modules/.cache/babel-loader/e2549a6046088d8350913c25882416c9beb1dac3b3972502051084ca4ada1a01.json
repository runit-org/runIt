{"ast":null,"code":"import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{useDispatch}from\"react-redux\";import{Button,ButtonGroup,Card,Dropdown}from\"react-bootstrap\";import{Mention}from\"../Utilities/mention\";import{commentOptions}from\"./utilities/comment-options\";import UpdateComment from\"./update-comment\";import{getAllComments,likeUnlike}from\"../../actions/commentActions\";import{SearchParam}from\"../Utilities/search-param\";import PopoverItem from\"../Profile/popover-item\";import{CommentReacts}from\"./utilities/comment-builder\";import{SingleEventContext}from\"../Dashboards/event-dash\";import{SecurityContext}from\"../Context/security-context\";import{Ellipse}from\"../../layouts/icons\";import{emitter}from\"../client/socket\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CommentItem(props){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editorMode=_useState2[0],setEditorMode=_useState2[1];var eventData=useContext(SingleEventContext);var currentUser=useContext(SecurityContext);var pageId=SearchParam();function handleClick(){setEditorMode(!editorMode);}var commentReact=function commentReact(){dispatch(likeUnlike(props.commentData.id)).then(function(){dispatch(getAllComments(eventData.id,pageId));emitter([props.commentData.username]);});};return/*#__PURE__*/_jsx(_Fragment,{children:!editorMode?/*#__PURE__*/_jsxs(Card,{className:\"event-card\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:props.commentData.gravatarImage,className:\"userProf-img me-3\",alt:\"Img\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-auto\",children:[/*#__PURE__*/_jsx(PopoverItem,{data:props.commentData.username}),/*#__PURE__*/_jsxs(\"small\",{className:\"d-block text-muted fw-semibold\",style:{fontSize:\"12px\"},children:[props.commentData.humanTimeDiffCreatedAt,\" ago\"]})]}),currentUser===props.commentData.user?/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"light\",size:\"sm\",id:\"dropdown-basic\",children:/*#__PURE__*/_jsx(Ellipse,{})}),/*#__PURE__*/_jsx(Dropdown.Menu,{children:commentOptions(props.commentData.id,eventData.id,props.commentCount,handleClick).options_owner.map(function(i,index){return/*#__PURE__*/_jsx(\"div\",{className:\"p-1\",children:i.item},index);})})]}):\"\"]})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Text,{className:\"details_textarea content_sm1\",dangerouslySetInnerHTML:{__html:props.commentData.content?Mention(props.commentData.content):props.commentData.content}}),/*#__PURE__*/_jsx(ButtonGroup,{\"aria-label\":\"Basic example\",className:\"mt-3 w-100 gap-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"postBtn-placements cta_button\",onClick:function onClick(){commentReact();},children:/*#__PURE__*/_jsx(CommentReacts,{commentData:props.commentData})})})]})]}):/*#__PURE__*/_jsx(UpdateComment,{eventId:eventData.id,commentId:props.commentData.id,content:props.commentData.content,cardStyle:currentUser===eventData.user?\"editor-card\":\"\",handleUpate:handleClick})});}export default CommentItem;","map":{"version":3,"names":["React","useState","useContext","useDispatch","Button","ButtonGroup","Card","Dropdown","Mention","commentOptions","UpdateComment","getAllComments","likeUnlike","SearchParam","PopoverItem","CommentReacts","SingleEventContext","SecurityContext","Ellipse","emitter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentItem","props","dispatch","_useState","_useState2","_slicedToArray","editorMode","setEditorMode","eventData","currentUser","pageId","handleClick","commentReact","commentData","id","then","username","children","className","Header","src","gravatarImage","alt","data","style","fontSize","humanTimeDiffCreatedAt","user","Toggle","variant","size","Menu","commentCount","options_owner","map","i","index","item","Body","Text","dangerouslySetInnerHTML","__html","content","onClick","eventId","commentId","cardStyle","handleUpate"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Comments/comment-item.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Button, ButtonGroup, Card, Dropdown } from \"react-bootstrap\";\nimport { Mention } from \"../Utilities/mention\";\nimport { commentOptions } from \"./utilities/comment-options\";\nimport UpdateComment from \"./update-comment\";\nimport { getAllComments, likeUnlike } from \"../../actions/commentActions\";\nimport { SearchParam } from \"../Utilities/search-param\";\nimport PopoverItem from \"../Profile/popover-item\";\nimport { CommentReacts } from \"./utilities/comment-builder\";\nimport { SingleEventContext } from \"../Dashboards/event-dash\";\nimport { SecurityContext } from \"../Context/security-context\";\nimport { Ellipse } from \"../../layouts/icons\";\nimport { emitter } from \"../client/socket\";\n\nfunction CommentItem(props) {\n  const dispatch = useDispatch();\n\n  const [editorMode, setEditorMode] = useState(false);\n  const eventData = useContext(SingleEventContext);\n  const currentUser = useContext(SecurityContext);\n\n  let pageId = SearchParam();\n\n  function handleClick() {\n    setEditorMode(!editorMode);\n  }\n\n  const commentReact = () => {\n    dispatch(likeUnlike(props.commentData.id)).then(() => {\n      dispatch(getAllComments(eventData.id, pageId));\n      emitter([props.commentData.username]);\n    });\n  };\n\n  return (\n    <>\n      {!editorMode ? (\n        <Card className=\"event-card\">\n          <Card.Header>\n            <div className=\"d-flex\">\n              <img\n                src={props.commentData.gravatarImage}\n                className=\"userProf-img me-3\"\n                alt=\"Img\"\n              />\n\n              <span className=\"me-auto\">\n                <PopoverItem data={props.commentData.username} />\n                <small\n                  className=\"d-block text-muted fw-semibold\"\n                  style={{\n                    fontSize: \"12px\",\n                  }}\n                >\n                  {props.commentData.humanTimeDiffCreatedAt} ago\n                </small>\n              </span>\n\n              {currentUser === props.commentData.user ? (\n                <Dropdown>\n                  <Dropdown.Toggle\n                    variant=\"light\"\n                    size=\"sm\"\n                    id=\"dropdown-basic\"\n                  >\n                    <Ellipse />\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    {commentOptions(\n                      props.commentData.id,\n                      eventData.id,\n                      props.commentCount,\n                      handleClick\n                    ).options_owner.map((i, index) => {\n                      return (\n                        <div key={index} className=\"p-1\">\n                          {i.item}\n                        </div>\n                      );\n                    })}\n                  </Dropdown.Menu>\n                </Dropdown>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </Card.Header>\n          <Card.Body>\n            <Card.Text\n              className=\"details_textarea content_sm1\"\n              dangerouslySetInnerHTML={{\n                __html: props.commentData.content\n                  ? Mention(props.commentData.content)\n                  : props.commentData.content,\n              }}\n            />\n\n            <ButtonGroup\n              aria-label=\"Basic example\"\n              className=\"mt-3 w-100 gap-2\"\n            >\n              <Button\n                variant=\"light\"\n                className=\"postBtn-placements cta_button\"\n                onClick={() => {\n                  commentReact();\n                }}\n              >\n                <CommentReacts commentData={props.commentData} />\n              </Button>\n            </ButtonGroup>\n          </Card.Body>\n        </Card>\n      ) : (\n        <UpdateComment\n          eventId={eventData.id}\n          commentId={props.commentData.id}\n          content={props.commentData.content}\n          cardStyle={currentUser === eventData.user ? \"editor-card\" : \"\"}\n          handleUpate={handleClick}\n        />\n      )}\n    </>\n  );\n}\n\nexport default CommentItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}