{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Manan/Desktop/runIt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Form,Row,Col}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{resetPw}from\"../../actions/securityActions\";import{Link}from\"react-router-dom\";import ErrorToast from\"../../layouts/error-toast\";import{useNavigate}from\"react-router-dom\";import{MsgToast}from\"../../layouts/msg-toast\";import{FormButton}from\"./utilities/auth-builder\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ResetPassword(props){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),c_password=_useState2[0],set_c_Password=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),load=_useState6[0],setLoad=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),formSwitch=_useState10[0],setFormSwitch=_useState10[1];var errorStatus=useSelector(function(errorReducer){return errorReducer.errors.errors;});var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var userData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();userData={password:password,c_password:c_password,token:props.token};dispatch(resetPw(userData,setLoad,setShow));case 3:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(errorStatus&&errorStatus.status===200){setTimeout(function(){navigate(\"/\",{replace:true});},1000);}},[navigate,errorStatus]);useEffect(function(){setFormSwitch(load);},[load]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ErrorToast,{showToast:show,variant:errorStatus.status===200?MsgToast().successVariant:MsgToast().errorVariant}),/*#__PURE__*/_jsx(\"fieldset\",{disabled:formSwitch,children:/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"subTitle\",children:\"Reset Password\"})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"text-muted visually-hidden\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"text-muted visually-hidden\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm Password\",onChange:function onChange(e){return set_c_Password(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(FormButton,{load:load,name:\"Confirm\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"divider\"}),/*#__PURE__*/_jsx(Row,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Col,{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Return to log in\"})})})]})})]});}export default ResetPassword;","map":{"version":3,"names":["React","useEffect","useState","Form","Row","Col","useDispatch","useSelector","resetPw","Link","ErrorToast","useNavigate","MsgToast","FormButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ResetPassword","props","dispatch","navigate","_useState","_useState2","_slicedToArray","c_password","set_c_Password","_useState3","_useState4","password","setPassword","_useState5","_useState6","load","setLoad","_useState7","_useState8","show","setShow","_useState9","_useState10","formSwitch","setFormSwitch","errorStatus","errorReducer","errors","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","userData","wrap","_callee$","_context","prev","next","preventDefault","token","stop","_x","apply","arguments","status","setTimeout","replace","children","showToast","variant","successVariant","errorVariant","disabled","onSubmit","className","Group","controlId","Label","Control","type","placeholder","onChange","target","value","required","name","to"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/UserAuth/reset-pw.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Form, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { resetPw } from \"../../actions/securityActions\";\nimport { Link } from \"react-router-dom\";\nimport ErrorToast from \"../../layouts/error-toast\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MsgToast } from \"../../layouts/msg-toast\";\nimport { FormButton } from \"./utilities/auth-builder\";\n\nfunction ResetPassword(props) {\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n\n  const [c_password, set_c_Password] = useState({});\n  const [password, setPassword] = useState({});\n  const [load, setLoad] = useState(false);\n  const [show, setShow] = useState(false);\n  const [formSwitch, setFormSwitch] = useState(false);\n\n  var errorStatus = useSelector((errorReducer) => errorReducer.errors.errors);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const userData = {\n      password: password,\n      c_password: c_password,\n      token: props.token,\n    };\n\n    dispatch(resetPw(userData, setLoad, setShow));\n  };\n\n  useEffect(() => {\n    if (errorStatus && errorStatus.status === 200) {\n      setTimeout(() => {\n        navigate(\"/\", {\n          replace: true,\n        });\n      }, 1000);\n    }\n  }, [navigate, errorStatus]);\n\n  useEffect(() => {\n    setFormSwitch(load);\n  }, [load]);\n\n  return (\n    <>\n      <ErrorToast\n        showToast={show}\n        variant={\n          errorStatus.status === 200\n            ? MsgToast().successVariant\n            : MsgToast().errorVariant\n        }\n      />\n\n      <fieldset disabled={formSwitch}>\n        <Form\n          onSubmit={(e) => {\n            handleSubmit(e);\n          }}\n        >\n          <div className=\"mb-4\">\n            <h4 className=\"subTitle\">Reset Password</h4>\n          </div>\n\n          <Form.Group className=\"mb-3\" controlId=\"password\">\n            <Form.Label className=\"text-muted visually-hidden\">\n              Password\n            </Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label className=\"text-muted visually-hidden\">\n              Confirm Password\n            </Form.Label>\n\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n              onChange={(e) => set_c_Password(e.target.value)}\n              required\n            />\n          </Form.Group>\n          <FormButton load={load} name=\"Confirm\" />\n          <hr className=\"divider\" />\n          <Row className=\"mt-3\">\n            <Col className=\"text-center\">\n              <Link to=\"/\">Return to log in</Link>\n            </Col>\n          </Row>\n        </Form>\n      </fieldset>\n    </>\n  );\n}\n\nexport default ResetPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}