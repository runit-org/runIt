{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllComments } from \"../../../actions/commentActions\";\nimport { getAllEvents, getEventMembers, getSingleEvent } from \"../../../actions/eventActions\";\nexport const EventMembersHandler = eventId => {\n  const dispatch = useDispatch();\n  const [eventMbs, setEventMbs] = useState([]);\n  useEffect(() => {\n    if (eventId) {\n      dispatch(getEventMembers(eventId));\n    }\n  }, [dispatch, eventId]);\n  var allEventMembers = useSelector(eventReducer => eventReducer.events.eventMembers.data);\n  useEffect(() => {\n    if (allEventMembers) {\n      setEventMbs(allEventMembers);\n    }\n  }, [allEventMembers]);\n  return eventMbs;\n};\nexport const SingleEventHandler = (params, pageId) => {\n  const dispatch = useDispatch();\n  const [eventData, setEventData] = useState([]);\n  const [commentData, setCommentData] = useState([]);\n  useEffect(() => {\n    dispatch(getSingleEvent(params.id)).then(() => {\n      dispatch(getAllComments(params.id, pageId ? pageId : 1));\n    });\n  }, [dispatch, params.id, pageId]);\n  var event = useSelector(securityReducer => securityReducer.events.events);\n  var comments = useSelector(commentReducer => commentReducer.comments.events);\n  useEffect(() => {\n    if (event) {\n      setEventData(event.data);\n    }\n    if (comments) {\n      setCommentData(comments);\n    }\n  }, [event, comments]);\n  return {\n    eventData,\n    commentData\n  };\n};\nexport const EventHandler = pageId => {\n  const dispatch = useDispatch();\n  const [eventData, setEventData] = useState([]);\n  useEffect(() => {\n    dispatch(getAllEvents(pageId ? pageId : 1));\n  }, [dispatch, pageId]);\n  var allEventsData = useSelector(eventReducer => eventReducer.events.events);\n  useEffect(() => {\n    if (allEventsData) {\n      setEventData(allEventsData);\n    }\n  }, [allEventsData]);\n  return eventData;\n};","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","getAllComments","getAllEvents","getEventMembers","getSingleEvent","EventMembersHandler","eventId","dispatch","eventMbs","setEventMbs","allEventMembers","eventReducer","events","eventMembers","data","SingleEventHandler","params","pageId","eventData","setEventData","commentData","setCommentData","id","then","event","securityReducer","comments","commentReducer","EventHandler","allEventsData"],"sources":["/Users/Manan/Desktop/runIt/frontend/src/components/Event/utilities/action-handlers.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllComments } from \"../../../actions/commentActions\";\nimport {\n  getAllEvents,\n  getEventMembers,\n  getSingleEvent,\n} from \"../../../actions/eventActions\";\n\nexport const EventMembersHandler = (eventId) => {\n  const dispatch = useDispatch();\n  const [eventMbs, setEventMbs] = useState([]);\n\n  useEffect(() => {\n    if (eventId) {\n      dispatch(getEventMembers(eventId));\n    }\n  }, [dispatch, eventId]);\n\n  var allEventMembers = useSelector(\n    (eventReducer) => eventReducer.events.eventMembers.data\n  );\n  useEffect(() => {\n    if (allEventMembers) {\n      setEventMbs(allEventMembers);\n    }\n  }, [allEventMembers]);\n\n  return eventMbs;\n};\n\nexport const SingleEventHandler = (params, pageId) => {\n  const dispatch = useDispatch();\n  const [eventData, setEventData] = useState([]);\n  const [commentData, setCommentData] = useState([]);\n\n  useEffect(() => {\n    dispatch(getSingleEvent(params.id)).then(() => {\n      dispatch(getAllComments(params.id, pageId ? pageId : 1));\n    });\n  }, [dispatch, params.id, pageId]);\n\n  var event = useSelector((securityReducer) => securityReducer.events.events);\n  var comments = useSelector(\n    (commentReducer) => commentReducer.comments.events\n  );\n\n  useEffect(() => {\n    if (event) {\n      setEventData(event.data);\n    }\n    if (comments) {\n      setCommentData(comments);\n    }\n  }, [event, comments]);\n\n  return { eventData, commentData };\n};\n\nexport const EventHandler = (pageId) => {\n  const dispatch = useDispatch();\n  const [eventData, setEventData] = useState([]);\n\n  useEffect(() => {\n    dispatch(getAllEvents(pageId ? pageId : 1));\n  }, [dispatch, pageId]);\n\n  var allEventsData = useSelector((eventReducer) => eventReducer.events.events);\n  useEffect(() => {\n    if (allEventsData) {\n      setEventData(allEventsData);\n    }\n  }, [allEventsData]);\n\n  return eventData;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}